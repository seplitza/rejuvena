# Deep Links Authentication - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –§–æ—Ç–æ–¥–Ω–µ–≤–Ω–∏–∫—É —á–µ—Ä–µ–∑ Telegram –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.

## üîó –§–æ—Ä–º–∞—Ç —Å—Å—ã–ª–æ–∫

### –ë–∞–∑–æ–≤–∞—è —Å—Å—ã–ª–∫–∞
```
https://seplitza.github.io/rejuvena/test-user?tg_user_id=123456789&auto=true
```

### –ü–æ–ª–Ω–∞—è —Å—Å—ã–ª–∫–∞ (–≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
```
https://seplitza.github.io/rejuvena/test-user?tg_user_id=123456789&tg_username=john_doe&tg_first_name=John&tg_last_name=Doe&auto=true
```

## üìã –ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|--------------|----------|--------|
| `tg_user_id` | ‚úÖ –î–∞ | Telegram User ID | `123456789` |
| `tg_username` | ‚ùå –ù–µ—Ç | Username –±–µ–∑ @ | `john_doe` |
| `tg_first_name` | ‚ùå –ù–µ—Ç | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | `John` |
| `tg_last_name` | ‚ùå –ù–µ—Ç | –§–∞–º–∏–ª–∏—è | `Doe` |
| `auto` | ‚ùå –ù–µ—Ç | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ | `true` |

## üéØ –£—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞

### 1. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø (—Ç–æ–ª—å–∫–æ User ID)
**–°—Å—ã–ª–∫–∞:**
```
https://seplitza.github.io/rejuvena/test-user?tg_user_id=123456789&auto=true
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–∞ Face++
- ‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã
- ‚ùå –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (1 –º–µ—Å—è—Ü)
- ‚ùå –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∫–æ–ª–ª–∞–∂–∞

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–æ—Ç–æ –∏–ª–∏ —Å–∫–∞—á–∞—Ç—å –∫–æ–ª–ª–∞–∂ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø.

### 2. –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ)
**–°—Å—ã–ª–∫–∞:**
```
https://seplitza.github.io/rejuvena/test-user?tg_user_id=123456789&tg_username=john&tg_first_name=John&tg_last_name=Doe&auto=true
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (1 –º–µ—Å—è—Ü –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- ‚úÖ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–ª–∞–∂–∞
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ

## üõ†Ô∏è –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫

### –í—Ä—É—á–Ω—É—é (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä: **https://seplitza.github.io/rejuvena/generate-link**

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ (–¥–ª—è Telegram –±–æ—Ç–∞)

#### Python
```python
from urllib.parse import urlencode

def generate_rejuvena_link(user_id, username=None, first_name=None, last_name=None):
    base_url = "https://seplitza.github.io/rejuvena/test-user"
    
    params = {
        "tg_user_id": user_id,
        "auto": "true"
    }
    
    if username:
        params["tg_username"] = username
    if first_name:
        params["tg_first_name"] = first_name
    if last_name:
        params["tg_last_name"] = last_name
    
    return f"{base_url}?{urlencode(params)}"

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
link = generate_rejuvena_link(
    user_id=123456789,
    username="john_doe",
    first_name="John",
    last_name="Doe"
)
print(link)
```

#### JavaScript/TypeScript
```typescript
function generateRejuvenaLink(
  userId: number,
  username?: string,
  firstName?: string,
  lastName?: string
): string {
  const baseUrl = 'https://seplitza.github.io/rejuvena/test-user';
  const params = new URLSearchParams();
  
  params.append('tg_user_id', userId.toString());
  params.append('auto', 'true');
  
  if (username) params.append('tg_username', username);
  if (firstName) params.append('tg_first_name', firstName);
  if (lastName) params.append('tg_last_name', lastName);
  
  return `${baseUrl}?${params.toString()}`;
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const link = generateRejuvenaLink(
  123456789,
  'john_doe',
  'John',
  'Doe'
);
console.log(link);
```

## ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –±–æ—Ç–æ–º (–±—É–¥—É—â–∞—è —Ñ–∏—á–∞)

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë–∞–∑–æ–≤—ã–π (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
```python
from telegram import Update
from telegram.ext import ContextTypes

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user = update.effective_user
    link = generate_rejuvena_link(user.id)
    
    await update.message.reply_text(
        f"üéØ –í–∞—à–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞:\n{link}\n\n"
        f"–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –§–æ—Ç–æ–¥–Ω–µ–≤–Ω–∏–∫–æ–º"
    )
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```python
async def start_full(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user = update.effective_user
    link = generate_rejuvena_link(
        user_id=user.id,
        username=user.username,
        first_name=user.first_name,
        last_name=user.last_name
    )
    
    keyboard = [[InlineKeyboardButton("üöÄ –û—Ç–∫—Ä—ã—Ç—å –§–æ—Ç–æ–¥–Ω–µ–≤–Ω–∏–∫", url=link)]]
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await update.message.reply_text(
        "‚úÖ –£ –≤–∞—Å –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º!\n\n"
        "üì∏ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ—Ç–æ (1 –º–µ—Å—è—Ü)\n"
        "üé® –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–ª–∞–∂–∞\n"
        "üìä –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–∞ —Å –ø–æ–º–æ—â—å—é AI",
        reply_markup=reply_markup
    )
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–∞

–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
```javascript
const user = JSON.parse(localStorage.getItem('rejuvena_user'));
console.log('User:', user);
console.log('Needs Full Access:', user?.needsFullAccess);
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **User ID –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å–µ–∫—Ä–µ—Ç–æ–º** - –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ
2. **–î–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π** (–æ–ø–ª–∞—Ç–∞, —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö) —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
3. **–î–∞–Ω–Ω—ã–µ –≤ localStorage** - –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. **–°–µ—Ä–≤–µ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** - —Ç—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —Å –∏–º–µ–Ω–µ–º –∏ username

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –§–∏—Ç–Ω–µ—Å-—Ç—Ä–µ–Ω–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫—É –∫–ª–∏–µ–Ω—Ç—É
```
–¢—Ä–µ–Ω–µ—Ä –∫–æ–ø–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫—É –∏–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
‚Üí –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Telegram —á–∞—Ç –∫–ª–∏–µ–Ω—Ç—É
‚Üí –ö–ª–∏–µ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É
‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –§–æ—Ç–æ–¥–Ω–µ–≤–Ω–∏–∫
‚Üí –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–æ—Ç–æ "–î–æ" –∏ "–ü–æ—Å–ª–µ"
```

### –ü—Ä–∏–º–µ—Ä 2: –ë–æ—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç –±–æ—Ç—É /start
‚Üí –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚Üí –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫—É —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
‚Üí –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å –§–æ—Ç–æ–¥–Ω–µ–≤–Ω–∏–∫"
‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø —Å—Ä–∞–∑—É
```

### –ü—Ä–∏–º–µ—Ä 3: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Üí –∑–∞–ø—Ä–æ—Å –¥–æ—Å—Ç—É–ø–∞
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É —Ç–æ–ª—å–∫–æ —Å User ID
‚Üí –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ç–æ
‚Üí –ù–∞–∂–∏–º–∞–µ—Ç "–°–∫–∞—á–∞—Ç—å –∫–æ–ª–ª–∞–∂"
‚Üí –í–∏–¥–∏—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
‚Üí –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –±–æ—Ç–∞ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∏ —Å–∫–∞—á–∏–≤–∞–µ—Ç –∫–æ–ª–ª–∞–∂
```

## üé® UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ –¥–æ—Å—Ç—É–ø–∞
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `<UserAccessStatus>` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- ‚úÖ –ó–µ–ª–µ–Ω—ã–π –±–ª–æ–∫ - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
- ‚ö†Ô∏è –ñ–µ–ª—Ç—ã–π –±–ª–æ–∫ - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø —Å –∫–Ω–æ–ø–∫–æ–π "–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø"

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ
- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –§–æ—Ç–æ–¥–Ω–µ–≤–Ω–∏–∫–∞ –ø–æ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
- –ù–∞–¥ –±–ª–æ–∫–æ–º "–£—Å–ª–æ–≤–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π"

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø)
```
https://seplitza.github.io/rejuvena/test-user?tg_user_id=999999&auto=true
```

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
```
https://seplitza.github.io/rejuvena/test-user?tg_user_id=999999&tg_username=testuser&tg_first_name=Test&tg_last_name=User&auto=true
```

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ

- [ ] –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Å—ã–ª–æ–∫
- [ ] Telegram Login Widget –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- [ ] Telegram Payments –¥–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ—Ç–æ
- [ ] Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∑–∞ 7/3/1 –¥–µ–Ω—å –¥–æ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–æ—Ç–æ
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫—É—Ä—Å–∞–º–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–¥–ª–µ–Ω–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è
