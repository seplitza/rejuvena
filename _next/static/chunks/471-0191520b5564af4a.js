"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[471],{74:function(e,a,t){t.d(a,{Z:function(){return c}});var r=t(5893),s=t(645),o=t.n(s),n=t(7294),l=t(1163),i=t(9133),d=t(5871);function c(){let e=(0,l.useRouter)(),{user:a}=(0,i.C)(e=>e.auth),[t,s]=(0,n.useState)([]),[c,m]=(0,n.useState)(!0),[u,x]=(0,n.useState)(null),[p,f]=(0,n.useState)(null),[h,g]=(0,n.useState)(0),[b,y]=(0,n.useState)(!0),j=(0,n.useRef)(),[w,v]=(0,n.useState)(!1),[k,N]=(0,n.useState)(null);(0,n.useEffect)(()=>{D()},[]);let D=async()=>{try{let e="https://api-rejuvena.duckdns.org";console.log("\uD83D\uDD0D Fetching marathons from:","".concat(e,"/api/marathons"));let a={},t=localStorage.getItem("auth_token");t&&(a.Authorization="Bearer ".concat(t));let r=await fetch("".concat(e,"/api/marathons"),{headers:a});if(console.log("\uD83D\uDCE1 Response status:",r.status),!r.ok)throw Error("HTTP ".concat(r.status));let o=await r.json();console.log("\uD83D\uDCE6 Marathons data:",o),o.success&&o.marathons?(s(o.marathons),console.log("✅ Loaded marathons:",o.marathons.length)):console.warn("⚠️ No marathons in response")}catch(e){console.error("❌ Failed to fetch marathons:",e),x("Ошибка загрузки марафонов")}finally{m(!1)}},C=async()=>{f("premium");try{var a;let t=localStorage.getItem("auth_token");if(!t){alert("Необходимо войти в систему"),e.push("/auth/login");return}let r=await fetch(d.Pn.payment.create,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({amount:990,description:"Премиум подписка на 30 дней",planType:"premium",duration:30})}),s=await r.json();s.success&&(null===(a=s.payment)||void 0===a?void 0:a.paymentUrl)?window.location.href=s.payment.paymentUrl:alert(s.error||"Ошибка создания платежа")}catch(e){console.error("Payment error:",e),alert("Ошибка при создании платежа")}finally{f(null)}},z=async a=>{if(a.userEnrolled){e.push("/marathons/".concat(a._id));return}if(a.isPaid){f(a._id);try{var t;let r=localStorage.getItem("auth_token");if(!r){alert("Необходимо войти в систему"),e.push("/auth/login");return}let s=await fetch("".concat(d.T5,"/api/payment/create-marathon"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({marathonId:a._id,marathonName:a.title,price:a.cost})}),o=await s.json();o.success&&(null===(t=o.payment)||void 0===t?void 0:t.paymentUrl)?window.location.href=o.payment.paymentUrl:alert(o.error||"Ошибка создания платежа")}catch(e){console.error("Payment error:",e),alert("Ошибка при создании платежа")}finally{f(null)}}else e.push("/marathons/".concat(a._id))},P=e=>0===e?"Бесконечный марафон":e%10==1&&e%100!=11?"".concat(e," день"):[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"".concat(e," дня"):"".concat(e," дней"),E=[...(null==a?void 0:a.isPremium)?[]:[{id:"premium",type:"premium",title:"Премиум доступ",subtitle:"Полный доступ ко всем упражнениям",badge:"⭐ Популярный",badgeColor:"bg-yellow-400 text-yellow-900",gradient:{from:"#9333ea",to:"#ec4899"},borderColor:"border-purple-200 hover:border-purple-400",price:990,priceLabel:"/ месяц",features:[{title:"Полное видео-инструкция",description:"Детальная демонстрация каждого упражнения"},{title:"Доступ на 1 месяц",description:"30 дней автоматического доступа"},{title:"Все категории упражнений",description:"100+ видео, лицо, шея, тело + другое"}],marathonData:void 0,isEnrolled:!1,enrollmentStatus:void 0}],...t.filter(e=>!e.userEnrolled).map(e=>({id:e._id,type:"marathon",title:e.title,subtitle:e.description||"Марафон омоложения",badge:e.userEnrolled?"✓ Оплачено":e.isPaid?null:"\uD83C\uDF81 Бесплатно",badgeColor:e.userEnrolled?"bg-green-100 text-green-800 border border-green-200":"bg-green-400 text-green-900",gradient:{from:"#2563eb",to:"#06b6d4"},borderColor:"border-blue-200 hover:border-blue-400",price:e.isPaid?e.cost:null,priceLabel:e.isPaid?"разовый платеж":"Бесплатно",features:[{title:"Длительность",description:P(e.numberOfDays)},{title:"Старт марафона",description:new Date(e.startDate).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})},{title:0===e.numberOfDays?"Каждый день":"Ежедневные упражнения",description:0===e.numberOfDays?"Одинаковый набор упражнений каждый день":"Новые упражнения каждый день"}],marathonData:e,isEnrolled:e.userEnrolled,enrollmentStatus:e.userEnrollmentStatus}))],L=()=>{g(e=>(e+1)%E.length)},S=e=>{g(e),y(!1)};(0,n.useEffect)(()=>(b&&E.length>1&&(j.current=setInterval(L,5e3)),()=>{j.current&&clearInterval(j.current)}),[b,E.length]);let I=async e=>{"premium"===e.type?await C():e.marathonData&&await z(e.marathonData)};if(c)return(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center py-12",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mb-4"}),(0,r.jsx)("span",{className:"text-gray-600 font-medium",children:"Загрузка предложений..."})]});if(u)return(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6 text-center",children:[(0,r.jsx)("p",{className:"text-red-600 font-semibold mb-2",children:u}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Проверьте подключение к серверу"}),(0,r.jsx)("button",{onClick:D,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Попробовать снова"})]});if(0===E.length)return(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mb-6 text-center",children:(0,r.jsx)("p",{className:"text-gray-600",children:"Нет доступных предложений"})});let O=E[h];return(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a mb-8",children:[(0,r.jsx)(o(),{id:"aede6108a951ad9a",children:'@-webkit-keyframes slideIn{from{opacity:0;-webkit-transform:translatex(100px)rotatey(20deg);transform:translatex(100px)rotatey(20deg)}to{opacity:1;-webkit-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}}@-moz-keyframes slideIn{from{opacity:0;-moz-transform:translatex(100px)rotatey(20deg);transform:translatex(100px)rotatey(20deg)}to{opacity:1;-moz-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}}@-o-keyframes slideIn{from{opacity:0;-o-transform:translatex(100px)rotatey(20deg);transform:translatex(100px)rotatey(20deg)}to{opacity:1;-o-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}}@keyframes slideIn{from{opacity:0;-webkit-transform:translatex(100px)rotatey(20deg);-moz-transform:translatex(100px)rotatey(20deg);-o-transform:translatex(100px)rotatey(20deg);transform:translatex(100px)rotatey(20deg)}to{opacity:1;-webkit-transform:translatex(0)rotatey(0);-moz-transform:translatex(0)rotatey(0);-o-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}}@-webkit-keyframes slideOut{from{opacity:1;-webkit-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}to{opacity:0;-webkit-transform:translatex(-100px)rotatey(-20deg);transform:translatex(-100px)rotatey(-20deg)}}@-moz-keyframes slideOut{from{opacity:1;-moz-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}to{opacity:0;-moz-transform:translatex(-100px)rotatey(-20deg);transform:translatex(-100px)rotatey(-20deg)}}@-o-keyframes slideOut{from{opacity:1;-o-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}to{opacity:0;-o-transform:translatex(-100px)rotatey(-20deg);transform:translatex(-100px)rotatey(-20deg)}}@keyframes slideOut{from{opacity:1;-webkit-transform:translatex(0)rotatey(0);-moz-transform:translatex(0)rotatey(0);-o-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}to{opacity:0;-webkit-transform:translatex(-100px)rotatey(-20deg);-moz-transform:translatex(-100px)rotatey(-20deg);-o-transform:translatex(-100px)rotatey(-20deg);transform:translatex(-100px)rotatey(-20deg)}}.slider-card{-webkit-animation:slideIn.5s cubic-bezier(.68,-.55,.265,1.55);-moz-animation:slideIn.5s cubic-bezier(.68,-.55,.265,1.55);-o-animation:slideIn.5s cubic-bezier(.68,-.55,.265,1.55);animation:slideIn.5s cubic-bezier(.68,-.55,.265,1.55);-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-perspective:1e3px;-moz-perspective:1e3px;perspective:1e3px}.slider-card:hover{-webkit-transform:scale(1.02)translatey(-8px);-moz-transform:scale(1.02)translatey(-8px);-ms-transform:scale(1.02)translatey(-8px);-o-transform:scale(1.02)translatey(-8px);transform:scale(1.02)translatey(-8px);-webkit-box-shadow:0 25px 50px rgba(0,0,0,.2);-moz-box-shadow:0 25px 50px rgba(0,0,0,.2);box-shadow:0 25px 50px rgba(0,0,0,.2)}.card-header{background:-webkit-linear-gradient(315deg,var(--gradient-from),var(--gradient-to));background:-moz-linear-gradient(315deg,var(--gradient-from),var(--gradient-to));background:-o-linear-gradient(315deg,var(--gradient-from),var(--gradient-to));background:linear-gradient(135deg,var(--gradient-from),var(--gradient-to));position:relative;overflow:hidden}.card-header::after{content:"";position:absolute;top:-50%;right:-50%;bottom:-50%;left:-50%;background:-webkit-linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);background:-moz-linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);background:-o-linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);background:linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);-webkit-transform:rotate(45deg)translate(-100%,-100%);-moz-transform:rotate(45deg)translate(-100%,-100%);-ms-transform:rotate(45deg)translate(-100%,-100%);-o-transform:rotate(45deg)translate(-100%,-100%);transform:rotate(45deg)translate(-100%,-100%);-webkit-transition:-webkit-transform.6s;-moz-transition:-moz-transform.6s;-o-transition:-o-transform.6s;transition:-webkit-transform.6s;transition:-moz-transform.6s;transition:-o-transform.6s;transition:transform.6s}.slider-card:hover .card-header::after{-webkit-transform:rotate(45deg)translate(100%,100%);-moz-transform:rotate(45deg)translate(100%,100%);-ms-transform:rotate(45deg)translate(100%,100%);-o-transform:rotate(45deg)translate(100%,100%);transform:rotate(45deg)translate(100%,100%)}.pulse-badge{-webkit-animation:pulse 2s ease-in-out infinite;-moz-animation:pulse 2s ease-in-out infinite;-o-animation:pulse 2s ease-in-out infinite;animation:pulse 2s ease-in-out infinite}@-webkit-keyframes pulse{0%,100%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.08);transform:scale(1.08);-webkit-box-shadow:0 0 20px rgba(250,204,21,.5);box-shadow:0 0 20px rgba(250,204,21,.5)}}@-moz-keyframes pulse{0%,100%{-moz-transform:scale(1);transform:scale(1)}50%{-moz-transform:scale(1.08);transform:scale(1.08);-moz-box-shadow:0 0 20px rgba(250,204,21,.5);box-shadow:0 0 20px rgba(250,204,21,.5)}}@-o-keyframes pulse{0%,100%{-o-transform:scale(1);transform:scale(1)}50%{-o-transform:scale(1.08);transform:scale(1.08);box-shadow:0 0 20px rgba(250,204,21,.5)}}@keyframes pulse{0%,100%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.08);-moz-transform:scale(1.08);-o-transform:scale(1.08);transform:scale(1.08);-webkit-box-shadow:0 0 20px rgba(250,204,21,.5);-moz-box-shadow:0 0 20px rgba(250,204,21,.5);box-shadow:0 0 20px rgba(250,204,21,.5)}}.slider-button{-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease}.slider-button:hover{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1);background:rgba(147,51,234,.95)}.slider-button:active{-webkit-transform:scale(.95);-moz-transform:scale(.95);-ms-transform:scale(.95);-o-transform:scale(.95);transform:scale(.95)}.dot{-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease}.dot:hover{-webkit-transform:scale(1.3);-moz-transform:scale(1.3);-ms-transform:scale(1.3);-o-transform:scale(1.3);transform:scale(1.3)}'}),(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a relative max-w-md mx-auto",children:[(0,r.jsxs)("div",{style:{"--gradient-from":O.gradient.from,"--gradient-to":O.gradient.to},className:"jsx-aede6108a951ad9a slider-card bg-white rounded-2xl shadow-2xl overflow-hidden border-2 transition-all duration-300",children:[(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a card-header p-6 text-white",children:[(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a flex items-center justify-between mb-2",children:[(0,r.jsx)("h3",{className:"jsx-aede6108a951ad9a text-2xl font-bold",children:O.title}),O.badge&&(0,r.jsx)("span",{className:"jsx-aede6108a951ad9a "+"pulse-badge inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ".concat(O.badgeColor),children:O.badge})]}),(0,r.jsx)("p",{className:"jsx-aede6108a951ad9a "+"".concat("premium"===O.type?"text-purple-100":"text-blue-100"),children:O.subtitle})]}),(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a p-6",children:[(0,r.jsx)("div",{className:"jsx-aede6108a951ad9a space-y-4 mb-6",children:O.features.map((e,a)=>(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"jsx-aede6108a951ad9a flex-shrink-0 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-aede6108a951ad9a w-4 h-4 text-green-600",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7",className:"jsx-aede6108a951ad9a"})})}),(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a flex-1 min-w-0",children:[(0,r.jsx)("h4",{className:"jsx-aede6108a951ad9a font-semibold text-gray-900 text-sm",children:e.title}),(0,r.jsx)("p",{className:"jsx-aede6108a951ad9a text-xs text-gray-600 mt-0.5",children:e.description})]})]},a))}),(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a border-t pt-6",children:[(0,r.jsx)("div",{className:"jsx-aede6108a951ad9a flex items-baseline justify-between mb-4",children:(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a",children:[(0,r.jsx)("span",{className:"jsx-aede6108a951ad9a text-4xl font-bold text-gray-900",children:null!==O.price?"".concat(O.price," ₽"):"Бесплатно"}),null!==O.price&&(0,r.jsx)("span",{className:"jsx-aede6108a951ad9a text-gray-600 ml-2 text-sm",children:O.priceLabel})]})}),(0,r.jsx)("button",{onClick:()=>I(O),disabled:p===O.id,style:{backgroundImage:"linear-gradient(to right, ".concat(O.gradient.from,", ").concat(O.gradient.to,")")},className:"jsx-aede6108a951ad9a w-full bg-gradient-to-r text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-2xl mb-3",children:p===O.id?"Обработка...":"marathon"===O.type&&O.isEnrolled?"Перейти к марафону →":null!==O.price?"Оплатить ".concat(O.price," ₽"):"Присоединиться бесплатно"}),"marathon"===O.type&&O.marathonData&&!O.isEnrolled&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),N(O.marathonData),v(!0)},className:"jsx-aede6108a951ad9a w-full bg-white border-2 border-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-xl transition-all duration-300 hover:border-purple-500 hover:text-purple-600 hover:bg-purple-50",children:"\uD83D\uDCD6 О марафоне"}),null!==O.price&&(0,r.jsx)("p",{className:"jsx-aede6108a951ad9a text-xs text-gray-500 text-center mt-3",children:"Безопасная оплата через Альфа-Банк"})]})]})]},h),E.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>{g(e=>(e-1+E.length)%E.length)},onMouseEnter:()=>y(!1),className:"jsx-aede6108a951ad9a slider-button absolute top-1/2 -left-4 md:-left-6 transform -translate-y-1/2 bg-purple-600 text-white w-10 h-10 md:w-12 md:h-12 rounded-full shadow-lg flex items-center justify-center z-10 hover:bg-purple-700",children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-aede6108a951ad9a w-5 h-5 md:w-6 md:h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7",className:"jsx-aede6108a951ad9a"})})}),(0,r.jsx)("button",{onClick:L,onMouseEnter:()=>y(!1),className:"jsx-aede6108a951ad9a slider-button absolute top-1/2 -right-4 md:-right-6 transform -translate-y-1/2 bg-purple-600 text-white w-10 h-10 md:w-12 md:h-12 rounded-full shadow-lg flex items-center justify-center z-10 hover:bg-purple-700",children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-aede6108a951ad9a w-5 h-5 md:w-6 md:h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7",className:"jsx-aede6108a951ad9a"})})})]}),E.length>1&&(0,r.jsx)("div",{className:"jsx-aede6108a951ad9a flex justify-center items-center space-x-2 mt-6",children:E.map((e,a)=>(0,r.jsx)("button",{onClick:()=>S(a),"aria-label":"Перейти к слайду ".concat(a+1),className:"jsx-aede6108a951ad9a "+"dot w-2.5 h-2.5 rounded-full transition-all ".concat(a===h?"bg-purple-600 w-8":"bg-gray-300 hover:bg-gray-400")},a))}),E.length>1&&(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a text-center mt-3 text-sm text-gray-500",children:[h+1," / ",E.length]})]}),w&&k&&(0,r.jsx)("div",{onClick:()=>v(!1),className:"jsx-aede6108a951ad9a fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-aede6108a951ad9a bg-white rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto shadow-2xl",children:[(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a sticky top-0 bg-gradient-to-r from-blue-600 to-cyan-500 text-white p-6 rounded-t-2xl",children:[(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"jsx-aede6108a951ad9a text-2xl font-bold",children:k.title}),(0,r.jsx)("button",{onClick:()=>v(!1),className:"jsx-aede6108a951ad9a text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition-all",children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-aede6108a951ad9a w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12",className:"jsx-aede6108a951ad9a"})})})]}),(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a mt-2 flex items-center gap-4 text-sm text-blue-100",children:[(0,r.jsxs)("span",{className:"jsx-aede6108a951ad9a",children:["\uD83D\uDCC5 ",k.numberOfDays," дней"]}),(0,r.jsxs)("span",{className:"jsx-aede6108a951ad9a",children:["\uD83D\uDCB0 ",k.isPaid?"".concat(k.cost," ₽"):"Бесплатно"]})]})]}),(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a p-6",children:[k.courseDescription?(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:k.courseDescription},style:{fontSize:"15px",lineHeight:"1.7",color:"#374151"},className:"jsx-aede6108a951ad9a prose prose-sm max-w-none"}):(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a text-gray-600 text-center py-8",children:[(0,r.jsx)("p",{className:"jsx-aede6108a951ad9a mb-4",children:"Описание марафона скоро появится"}),(0,r.jsx)("p",{className:"jsx-aede6108a951ad9a text-sm text-gray-500",children:"Следите за обновлениями!"})]}),(0,r.jsx)("div",{className:"jsx-aede6108a951ad9a mt-6 pt-6 border-t border-gray-200",children:(0,r.jsx)("button",{onClick:()=>{v(!1),z(k)},className:"jsx-aede6108a951ad9a w-full bg-gradient-to-r from-blue-600 to-cyan-500 text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-2xl",children:k.isPaid?"Оплатить ".concat(k.cost," ₽"):"Присоединиться бесплатно"})})]})]})})]})}},7963:function(e,a,t){t.d(a,{Z:function(){return d}});var r=t(5893),s=t(7294),o=t(9133),n=t(7526),l=t(7796);let i=[{code:"ru",name:"Русский",flag:"\uD83C\uDDF7\uD83C\uDDFA"},{code:"en",name:"English",flag:"\uD83C\uDDEC\uD83C\uDDE7"},{code:"es",name:"Espa\xf1ol",flag:"\uD83C\uDDEA\uD83C\uDDF8"}];function d(){let e=(0,o.T)(),a=(0,o.C)(l.Kh),[t,d]=(0,s.useState)(!1),c=(0,s.useRef)(null),m=i.find(e=>e.code===a)||i[0];(0,s.useEffect)(()=>{function e(e){c.current&&!c.current.contains(e.target)&&d(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let u=a=>{e((0,n.om)(a)),d(!1)};return(0,r.jsxs)("div",{className:"relative",ref:c,children:[(0,r.jsxs)("button",{onClick:()=>d(!t),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors border border-gray-300",children:[(0,r.jsx)("span",{children:m.flag}),(0,r.jsx)("span",{children:m.code.toUpperCase()}),(0,r.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(t?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&(0,r.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50",children:i.map(e=>(0,r.jsxs)("button",{onClick:()=>u(e.code),className:"w-full flex items-center gap-3 px-4 py-2 text-sm hover:bg-gray-100 transition-colors ".concat(a===e.code?"bg-blue-50 text-[#1e3a8a] font-medium":"text-gray-700"),children:[(0,r.jsx)("span",{className:"text-xl",children:e.flag}),(0,r.jsx)("span",{children:e.name}),a===e.code&&(0,r.jsx)("svg",{className:"w-4 h-4 ml-auto text-[#1e3a8a]",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e.code))})]})}},5871:function(e,a,t){t.d(a,{CT:function(){return s},Pn:function(){return o},T5:function(){return r}});let r="https://api-rejuvena.duckdns.org",s=r,o={exercises:{public:"".concat(r,"/api/exercises/public"),byId:e=>"".concat(r,"/api/exercises/").concat(e)},courses:{public:"".concat(r,"/api/courses/public"),byId:e=>"".concat(r,"/api/courses/").concat(e)},payment:{create:"".concat(r,"/api/payment/create"),status:e=>"".concat(r,"/api/payment/status/").concat(e)}}},7796:function(e,a,t){t.d(a,{JB:function(){return p},Kh:function(){return u},LJ:function(){return x},aJ:function(){return d},gi:function(){return f},h3:function(){return b},ks:function(){return i},sy:function(){return n},z5:function(){return h}});var r=t(8697);let s=e=>e.courses,o=(0,r.P1)([s],e=>e.myOrders),n=o,l=(0,r.P1)([o],e=>e.filter(e=>"Approved"===e.orderStatus||"Active"===e.status||!0===e.isPurchased)),i=(0,r.P1)([s],e=>e.loadingOrders);(0,r.P1)([s],e=>e.ordersError);let d=(0,r.P1)([s],e=>e.activatingOrderId),c=(0,r.P1)([s],e=>e.availableCourses),m=(0,r.P1)([s],e=>e.demoCourses);(0,r.P1)([c,m],(e,a)=>[...e,...a]);let u=(0,r.P1)([s],e=>e.selectedLanguage),x=(0,r.P1)([c,u],(e,a)=>e.filter(e=>e.languageCulture===a)),p=(0,r.P1)([m,u],(e,a)=>e.filter(e=>e.languageCulture===a)),f=(0,r.P1)([s],e=>e.loadingCourses);(0,r.P1)([s],e=>e.coursesError);let h=(0,r.P1)([s],e=>e.selectedCourse);(0,r.P1)([s],e=>e.coursePlans),(0,r.P1)([s],e=>e.loadingDetails),(0,r.P1)([s],e=>e.detailsError);let g=(0,r.P1)([s],e=>e.marathons);(0,r.P1)([s],e=>e.loadingMarathon),(0,r.P1)([s],e=>e.marathonError);let b=(0,r.P1)([l,g],(e,a)=>e.map(e=>{var t,r,s;let o=e.wpMarathonId||e.marathonId||e.id;return{...e,marathonId:o,marathon:a[o],progress:(null===(t=a[o])||void 0===t?void 0:t.progress)||0,completedDays:(null===(r=a[o])||void 0===r?void 0:r.completedDays)||0,totalDays:(null===(s=a[o])||void 0===s?void 0:s.totalDays)||e.days||0}}))}}]);