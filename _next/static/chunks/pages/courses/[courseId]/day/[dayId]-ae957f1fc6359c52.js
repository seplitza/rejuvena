(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[431],{694:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/courses/[courseId]/day/[dayId]",function(){return r(3706)}])},440:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var s=r(5893);r(7294);var a=r(1163),l=r(9133),n=r(5689);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e>=200?5:e>=150?4:e>=100?3:e>=50?2:e>=1?1:0:e>=100?3:e>=50?2:e>=1?1:0},i=e=>{let{rating:t,maxStars:r=5}=e;return(0,s.jsx)("div",{className:"flex items-center justify-center space-x-0.5",children:Array.from({length:r}).map((e,r)=>{let a=r+1;return(0,s.jsx)("svg",{className:"w-3 h-3 ".concat(a<=t?"text-yellow-400 fill-current":"text-gray-300"),viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})},a)})})};function c(e){let{marathonId:t,currentDayId:r}=e,c=(0,a.useRouter)(),d=(0,l.C)(n.h6),u=(null==d?void 0:d.marathonDays)||[],x=(null==d?void 0:d.greatExtensionDays)||[];console.log("\uD83D\uDCCB DaysList - Current day ID:",r),console.log("\uD83D\uDCCB DaysList - Marathon days:",u.map(e=>({id:e.id,day:e.day,progress:e.progress}))),console.log("\uD83D\uDCCB DaysList - Practice days:",x.map(e=>({id:e.id,day:e.day,progress:e.progress})));let p=e=>{c.push("/courses/".concat(t,"/day/").concat(e))};return 0==[...u,...x].length?null:(0,s.jsxs)("div",{className:"mt-8 bg-white rounded-2xl shadow-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Пройденные дни"}),(0,s.jsx)("button",{onClick:()=>c.push("/courses/".concat(t,"/start")),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all shadow-md hover:shadow-lg",children:"СТАРТ"})]}),u.length>0&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-purple-600 mb-3",children:"Обучение"}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-2",children:u.map(e=>{let t=e.id===r,a=o(e.progress||0,!1);return(0,s.jsxs)("button",{onClick:()=>p(e.id),disabled:e.isLocked,className:"\n                    relative p-3 rounded-lg border-2 transition-all\n                    ".concat(t?"border-purple-500 bg-purple-50":e.isLocked?"border-gray-200 bg-gray-50 cursor-not-allowed":"border-gray-200 hover:border-purple-300 hover:shadow-md cursor-pointer","\n                  "),children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-xs font-semibold mb-1 ".concat(t?"text-purple-700":"text-gray-600"),children:"День"}),(0,s.jsx)("div",{className:"text-lg font-bold ".concat(t?"text-purple-700":"text-gray-800"),children:e.day})]}),a>0&&(0,s.jsx)("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:(0,s.jsx)(i,{rating:a,maxStars:3})}),e.isLocked&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})})]},e.id)})})]}),x.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-orange-600 mb-3",children:"Практика"}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-2",children:x.map(e=>{let t=e.id===r,a=o(e.progress||0,!0);return(0,s.jsxs)("button",{onClick:()=>p(e.id),disabled:e.isLocked,className:"\n                    relative p-3 rounded-lg border-2 transition-all\n                    ".concat(t?"border-orange-500 bg-orange-50":e.isLocked?"border-gray-200 bg-gray-50 cursor-not-allowed":"border-gray-200 hover:border-orange-300 hover:shadow-md cursor-pointer","\n                  "),children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-xs font-semibold mb-1 ".concat(t?"text-orange-700":"text-gray-600"),children:"День"}),(0,s.jsx)("div",{className:"text-lg font-bold ".concat(t?"text-orange-700":"text-gray-800"),children:e.day})]}),a>0&&(0,s.jsx)("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:(0,s.jsx)(i,{rating:a,maxStars:5})}),e.isLocked&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})})]},e.id)})})]})]})}},3706:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return M}});var s=r(5893),a=r(7294),l=r(1163),n=r(9133),o=r(5689),i=r(7369),c=r(8697);let d=e=>e.auth;(0,c.P1)(d,e=>e.isAuthenticated),(0,c.P1)(d,e=>e.token),(0,c.P1)(d,e=>e.user);let u=(0,c.P1)(d,e=>e.user);(0,c.P1)(d,e=>e.loading),(0,c.P1)(d,e=>e.error);var x=r(7796),p=r(1980),h=r(8207),m=r(5675),g=r.n(m),b=r(3031);function v(e){return e.replace(/[\uFE00-\uFE0F]/g,"").replace(/\u200D/g,"")}function f(e){let{isOpen:t,onClose:r}=e,a=(0,l.useRouter)(),o=(0,n.T)(),i=e=>{a.push(e),r()};return(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity",onClick:r}),(0,s.jsxs)("div",{className:"fixed top-0 right-0 h-full w-80 max-w-[85vw] bg-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out ".concat(t?"translate-x-0":"translate-x-full"),children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Меню"}),(0,s.jsx)("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-lg transition-colors","aria-label":"Закрыть меню",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("p",{className:"text-sm opacity-90",children:"Rejuvena - Естественное омоложение"})]}),(0,s.jsxs)("nav",{className:"p-4 space-y-2",children:[[{label:"Личная информация",path:"/profile",icon:"\uD83D\uDC64"},{label:"Фотодневник",path:"/photo-diary",icon:"\uD83D\uDCF8"},{label:"Мои заказы",path:"/orders",icon:"\uD83D\uDCE6"},{label:"Лучшие результаты",path:"/results",icon:"\uD83C\uDFC6"},{label:"Уведомления",path:"/notifications",icon:"\uD83D\uDD14"},{label:"Обратная связь",path:"/feedback",icon:"\uD83D\uDCAC"}].map(e=>(0,s.jsxs)("button",{onClick:()=>i(e.path),className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-purple-50 transition-colors text-left group",children:[(0,s.jsx)("span",{className:"text-2xl",children:v(e.icon)}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("span",{className:"text-gray-800 group-hover:text-purple-600 font-medium",children:e.label})}),(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},e.path)),(0,s.jsx)("div",{className:"border-t border-gray-200 my-4"}),(0,s.jsxs)("button",{onClick:()=>{o((0,b.kS)()),a.push("/"),r()},className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-red-50 transition-colors text-left group",children:[(0,s.jsx)("span",{className:"text-2xl",children:v("\uD83D\uDEAA")}),(0,s.jsx)("span",{className:"text-gray-800 group-hover:text-red-600 font-medium",children:"Выйти"})]})]})]})]})}function j(){let[e,t]=(0,a.useState)(!1),r=(0,l.useRouter)(),{courseId:i}=r.query,c=(0,n.C)(o.ay);(0,n.C)(o.cx);let d=(0,n.C)(u),m=(0,n.C)(x.sy).find(e=>e.id===i||e.marathonId===i);if(!c||!m)return null;let{day:b,dayDate:v}=c,j=v?(0,p.WU)(new Date(v),"d MMMM ''yy",{locale:h.ru}):"",y=b>14,N=(null==d?void 0:d.profilePicture)||(null==d?void 0:d.avatar)||"/images/default-avatar.png";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{isOpen:e,onClose:()=>t(!1)}),(0,s.jsx)("header",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-3 py-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,s.jsx)("button",{onClick:()=>r.back(),className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex-shrink-0","aria-label":"Назад",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),m.imagePath&&(0,s.jsx)("div",{className:"relative w-10 h-10 rounded-lg overflow-hidden flex-shrink-0 bg-white/10",children:(0,s.jsx)(g(),{src:m.imagePath,alt:m.title,fill:!0,className:"object-cover"})}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsx)("h1",{className:"text-base font-bold truncate",children:m.title})})]}),(0,s.jsx)("button",{onClick:()=>t(!0),className:"p-2 hover:bg-white/10 rounded-lg transition-colors flex-shrink-0","aria-label":"Меню",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),(0,s.jsxs)("div",{className:"mt-3 flex items-center justify-between bg-white/10 rounded-lg p-2 backdrop-blur-sm",children:[(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-xs font-medium opacity-80",children:"день"}),(0,s.jsx)("p",{className:"text-2xl font-bold leading-none",children:b}),(0,s.jsx)("p",{className:"text-xs font-medium opacity-80",children:y?"практика":"обучение"})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)("p",{className:"text-xs font-medium opacity-90",children:j})}),(0,s.jsx)("div",{className:"relative w-10 h-10 rounded-full overflow-hidden border-2 border-white/30 flex-shrink-0",children:(0,s.jsx)(g(),{src:N,alt:"User avatar",fill:!0,className:"object-cover"})})]})]})]})})]})}var y=r(645),N=r.n(y);let w=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,k=/vimeo\.com\/(\d+)/,C=/vk\.com\/video(-?\d+_\d+)/;function D(e){let{video:t}=e;switch(t.type){case"youtube":case"vimeo":case"vk":return(0,s.jsx)("div",{className:"w-full mb-4",children:(0,s.jsxs)("div",{className:"jsx-c7c9bb57b0888a04 w-full aspect-video relative overflow-hidden rounded-none md:rounded-lg",children:[(0,s.jsx)("iframe",{src:t.url,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"jsx-c7c9bb57b0888a04 w-full h-full"}),(0,s.jsx)("div",{style:{height:"20%",zIndex:10},onClick:e=>e.stopPropagation(),className:"jsx-c7c9bb57b0888a04 absolute top-0 left-0 right-0 pointer-events-auto bg-transparent"}),"youtube"===t.type?(0,s.jsx)("div",{style:{right:"48px",width:"100px",height:"48px",zIndex:10},onClick:e=>e.stopPropagation(),className:"jsx-c7c9bb57b0888a04 absolute bottom-0 pointer-events-auto bg-transparent"}):"vimeo"===t.type?(0,s.jsx)("div",{style:{width:"80px",height:"80px",zIndex:10},onClick:e=>e.stopPropagation(),className:"jsx-c7c9bb57b0888a04 absolute bottom-0 right-0 pointer-events-auto bg-transparent"}):null,(0,s.jsx)(N(),{id:"c7c9bb57b0888a04",children:'iframe.jsx-c7c9bb57b0888a04{pointer-events:auto}.vp-sidedock,.vp-title,.vp-byline,.vp-portrait,.vp-badge{display:none!important}iframe[src*="youtube.com"]{position:relative}'})]})});case"mp4":return(0,s.jsx)("div",{className:"w-full mb-4",children:(0,s.jsx)("video",{src:t.url,controls:!0,className:"w-full aspect-video object-contain rounded-none md:rounded-lg"})});case"telegram":return(0,s.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Видео из Telegram:"}),(0,s.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-[#F79700] hover:underline break-all",children:t.url})]});default:return null}}function P(){let e=(0,n.C)(o.ay),{videos:t,cleanedHtml:r}=(0,a.useMemo)(()=>(null==e?void 0:e.description)?{videos:function(e){let t=[];for(let r of e.matchAll(RegExp(w,"g"))){let e=encodeURIComponent(window.location.origin);t.push({type:"youtube",url:"https://www.youtube.com/embed/".concat(r[1],"?modestbranding=1&rel=0&showinfo=0&fs=1&controls=1&disablekb=0&iv_load_policy=3&cc_load_policy=0&playsinline=1&origin=").concat(e),id:r[1]})}for(let r of e.matchAll(RegExp(k,"g")))t.push({type:"vimeo",url:"https://player.vimeo.com/video/".concat(r[1],"?title=0&byline=0&portrait=0&badge=0&autopause=0&player_id=0&dnt=1&controls=1&transparent=0"),id:r[1]});for(let r of e.matchAll(RegExp(C,"g")))t.push({type:"vk",url:"https://vk.com/video_ext.php?oid=".concat(r[1].split("_")[0],"&id=").concat(r[1].split("_")[1]),id:r[1]});for(let r of e.matchAll(/(?:src|href)=["']([^"']+\.mp4)["']/g))t.push({type:"mp4",url:r[1]});for(let r of e.matchAll(/(?:src|href)=["'](https?:\/\/t\.me\/[^"']+)["']/g))t.push({type:"telegram",url:r[1]});return t}(e.description),cleanedHtml:e.description.replace(/<a[^>]*href=".*?froala.*?"[^>]*>.*?<\/a>/gi,"").replace(/<div[^>]*data-f-id[^>]*>.*?<\/div>/gi,"").replace(/Powered by Froala Editor/gi,"")}:{videos:[],cleanedHtml:""},[null==e?void 0:e.description]);return e?(0,s.jsxs)("div",{className:"jsx-941e5b0487659eba bg-white rounded-2xl shadow-lg p-6",children:[(0,s.jsxs)("div",{style:{height:"400px",scrollbarWidth:"thin",scrollbarColor:"#CBD5E0 #F7FAFC"},className:"jsx-941e5b0487659eba overflow-y-auto pr-2",children:[t.length>0&&(0,s.jsx)("div",{className:"jsx-941e5b0487659eba mb-6 space-y-4",children:t.map((e,t)=>(0,s.jsx)(D,{video:e},"".concat(e.type,"-").concat(e.id||t)))}),(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:r},className:"jsx-941e5b0487659eba prose prose-sm max-w-none\n            prose-headings:text-purple-900 prose-headings:font-bold\n            prose-p:text-gray-700 prose-p:leading-relaxed\n            prose-a:text-purple-600 prose-a:no-underline hover:prose-a:underline\n            prose-strong:text-gray-900 prose-strong:font-semibold\n            prose-ul:list-disc prose-ol:list-decimal\n            prose-li:text-gray-700 prose-li:my-1\n            prose-img:rounded-lg prose-img:shadow-md\n            prose-blockquote:border-l-4 prose-blockquote:border-purple-400 prose-blockquote:pl-4 prose-blockquote:italic"})]}),(0,s.jsx)(N(),{id:"941e5b0487659eba",children:"div.jsx-941e5b0487659eba::-webkit-scrollbar{width:8px}div.jsx-941e5b0487659eba::-webkit-scrollbar-track{background:#F7FAFC;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}div.jsx-941e5b0487659eba::-webkit-scrollbar-thumb{background:#CBD5E0;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}div.jsx-941e5b0487659eba::-webkit-scrollbar-thumb:hover{background:#A0AEC0}"})]}):null}var E=r(3224),L=r(4675);function _(){let{courseId:e,dayId:t}=(0,l.useRouter)().query,r=(0,n.T)(),c=(0,n.C)(o.MK),d=(0,n.C)(o.z6),u=(0,n.C)(o.hV),x=(0,n.C)(o.b0),p=(0,n.C)(o.ay),[h,m]=(0,a.useState)(()=>{let e={};return c.forEach(t=>{e[t.id]=!0}),e}),[b,v]=(0,a.useState)(null),[f,j]=(0,a.useState)(!1);(0,a.useEffect)(()=>{j(!0)},[]);let y=(e,t)=>{e.blockExercise||(console.log("\uD83D\uDCF1 Banner clicked - opening modal for:",e.exerciseName),v(e))},N=(e,t)=>{if(console.log("✅ Checkbox clicked - changing status for:",e.exerciseName),e.blockExercise||u[t])return;let s=void 0!==x[t]?x[t]:e.isDone;r((0,i.R$)({marathonExerciseId:e.marathonExerciseId,status:!s,dayId:(null==p?void 0:p.id)||"",uniqueId:t}))},w=e=>{v(e)},k=e=>{m(t=>({...t,[e]:!t[e]}))};return c&&0!==c.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-4",children:(0,s.jsx)("h2",{className:"text-xl font-bold",children:"План дня"})}),(0,s.jsx)("div",{className:"divide-y divide-gray-200",children:c.map(e=>{let t=h[e.id];return(0,s.jsxs)("div",{className:"bg-white",children:[(0,s.jsxs)("button",{onClick:()=>k(e.id),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[e.imagePath&&(0,s.jsx)("div",{className:"relative w-10 h-10 flex-shrink-0",children:(0,s.jsx)(g(),{src:e.imagePath,alt:e.categoryName,fill:!0,className:"object-contain"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.categoryName})]}),(0,s.jsx)("svg",{className:"w-6 h-6 text-gray-400 transition-transform ".concat(t?"transform rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&(0,s.jsx)("div",{className:"px-0 sm:px-6 pb-4 space-y-2",children:e.exercises.map((t,r)=>{let a="".concat(r,"-").concat(e.id,"-").concat(t.id),l=d===a,n=void 0!==x[a]?x[a]:t.isDone,o=u[a];return(0,s.jsx)(E.Z,{exercise:t,uniqueId:a,isActive:l,isDone:n,isChanging:o,onToggle:()=>y(t,a),onCheck:()=>N(t,a),onDetailClick:()=>w(t)},a)})})]},e.id)})})]}),f&&b&&(0,s.jsx)(L.Z,{exercise:b,isOpen:!0,onClose:()=>{console.log("\uD83D\uDD34 Closing modal"),v(null)},onCheckboxChange:e=>{let t=c.find(e=>e.exercises.some(e=>e.id===b.id));if(t){let e=t.exercises.findIndex(e=>e.id===b.id),r="".concat(e,"-").concat(t.id,"-").concat(b.id);N(b,r)}},isDone:(()=>{let e=c.find(e=>e.exercises.some(e=>e.id===b.id));if(e){let t=e.exercises.findIndex(e=>e.id===b.id),r="".concat(t,"-").concat(e.id,"-").concat(b.id);return void 0!==x[r]?x[r]:b.isDone}return b.isDone})()})]}):(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:(0,s.jsx)("p",{className:"text-gray-500",children:"На этот день упражнения не запланированы"})})}var I=r(440);function M(){let e=(0,l.useRouter)(),{courseId:t,dayId:r}=e.query,c=(0,n.T)(),d=(0,n.C)(o._R),u=(0,n.C)(o.LV),x=(0,n.C)(o.Rc),p=(0,n.C)(o.ay);if((0,a.useEffect)(()=>(t&&r&&"string"==typeof t&&"string"==typeof r&&c((0,i.JL)({marathonId:t,dayId:r})),()=>{c((0,i.M$)())}),[t,r,c]),u)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-pink-50 to-purple-50",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Загрузка дня..."})]})});if(x){let t=x.includes("Order not found")||x.includes("400");return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-pink-50 to-purple-50",children:(0,s.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:t?"\uD83D\uDD12":"\uD83D\uDE1E"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:t?"Курс недоступен":"Ошибка загрузки"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:t?"Этот курс доступен только после покупки. Вернитесь на страницу курсов и приобретите курс, чтобы получить доступ к его содержимому.":x}),(0,s.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,s.jsx)("button",{onClick:()=>e.push("/courses"),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:t?"К курсам":"Вернуться"}),t&&(0,s.jsx)("button",{onClick:()=>e.back(),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Назад"})]})]})})}return d&&p?(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50",children:[(0,s.jsx)(j,{}),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[(0,s.jsx)(P,{}),(0,s.jsx)(_,{}),t&&"string"==typeof t&&(null==p?void 0:p.id)&&(0,s.jsx)(I.Z,{marathonId:t,currentDayId:p.id})]})]}):null}},7796:function(e,t,r){"use strict";r.d(t,{JB:function(){return h},Kh:function(){return x},LJ:function(){return p},aJ:function(){return c},gi:function(){return m},h3:function(){return v},ks:function(){return i},sy:function(){return n},z5:function(){return g}});var s=r(8697);let a=e=>e.courses,l=(0,s.P1)([a],e=>e.myOrders),n=l,o=(0,s.P1)([l],e=>e.filter(e=>"Approved"===e.orderStatus||"Active"===e.status||!0===e.isPurchased)),i=(0,s.P1)([a],e=>e.loadingOrders);(0,s.P1)([a],e=>e.ordersError);let c=(0,s.P1)([a],e=>e.activatingOrderId),d=(0,s.P1)([a],e=>e.availableCourses),u=(0,s.P1)([a],e=>e.demoCourses);(0,s.P1)([d,u],(e,t)=>[...e,...t]);let x=(0,s.P1)([a],e=>e.selectedLanguage),p=(0,s.P1)([d,x],(e,t)=>e.filter(e=>e.languageCulture===t)),h=(0,s.P1)([u,x],(e,t)=>e.filter(e=>e.languageCulture===t)),m=(0,s.P1)([a],e=>e.loadingCourses);(0,s.P1)([a],e=>e.coursesError);let g=(0,s.P1)([a],e=>e.selectedCourse);(0,s.P1)([a],e=>e.coursePlans),(0,s.P1)([a],e=>e.loadingDetails),(0,s.P1)([a],e=>e.detailsError);let b=(0,s.P1)([a],e=>e.marathons);(0,s.P1)([a],e=>e.loadingMarathon),(0,s.P1)([a],e=>e.marathonError);let v=(0,s.P1)([o,b],(e,t)=>e.map(e=>{var r,s,a;let l=e.wpMarathonId||e.marathonId||e.id;return{...e,marathonId:l,marathon:t[l],progress:(null===(r=t[l])||void 0===r?void 0:r.progress)||0,completedDays:(null===(s=t[l])||void 0===s?void 0:s.completedDays)||0,totalDays:(null===(a=t[l])||void 0===a?void 0:a.totalDays)||e.days||0}}))},5689:function(e,t,r){"use strict";r.d(t,{LV:function(){return n},MK:function(){return c},Rc:function(){return o},_R:function(){return l},ay:function(){return i},b0:function(){return u},cx:function(){return p},h6:function(){return h},hV:function(){return d},z6:function(){return x}});var s=r(8697);let a=e=>e.dayReducer,l=(0,s.P1)(a,e=>e.currentDay),n=(0,s.P1)(a,e=>e.loading),o=(0,s.P1)(a,e=>e.error),i=(0,s.P1)(l,e=>(null==e?void 0:e.marathonDay)||null),c=(0,s.P1)(i,e=>(null==e?void 0:e.dayCategories)||[]),d=(0,s.P1)(a,e=>e.changingStatusRequests),u=(0,s.P1)(a,e=>e.updatedExercisesStatus),x=(0,s.P1)(a,e=>e.activeExerciseId),p=(0,s.P1)(l,e=>(null==e?void 0:e.title)||""),h=(0,s.P1)(a,e=>e.marathonData)}},function(e){e.O(0,[675,505,441,888,774,179],function(){return e(e.s=694)}),_N_E=e.O()}]);