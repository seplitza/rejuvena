(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{467:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/debug",function(){return n(6585)}])},6585:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return a}});var t=n(5893),r=n(7294),l=n(9008),c=n.n(l),o=n(803),i=n(3454);function a(){let[e,s]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[a,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{s(i.env.NEXT_PUBLIC_API_URL||"Not set")},[]);let h=async()=>{d(!0),l(null);try{console.log("Testing API connection...");let e=await o.WY.get(o.Hv.QK);l({success:!0,data:e}),console.log("✅ API Test Success:",e)}catch(e){l({success:!1,error:e}),console.error("❌ API Test Failed:",e)}finally{d(!1)}},x=async()=>{d(!0),l(null);try{let e=localStorage.getItem("auth_token");console.log("Testing Orders API with token:",e?"Present":"Missing"),console.log("Full API URL:","".concat(i.env.NEXT_PUBLIC_API_URL).concat(o.Hv.oJ));let s=new Date().getTimezoneOffset(),n=await o.WY.get(o.Hv.oJ,{params:{timeZoneOffSet:s}});l({success:!0,endpoint:"get_order_list",data:n,token:e?"Present":"Missing"}),console.log("✅ Orders API Test Success:",n)}catch(e){l({success:!1,endpoint:"get_order_list",error:e,token:localStorage.getItem("auth_token")?"Present":"Missing"}),console.error("❌ Orders API Test Failed:",e)}finally{d(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c(),{children:(0,t.jsx)("title",{children:"Debug - API Connection Test"})}),(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 p-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"\uD83D\uDD27 Debug Information"}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Environment"}),(0,t.jsxs)("div",{className:"space-y-2 font-mono text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"API URL:"})," ",e]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Environment:"})," ",i.env.NEXT_PUBLIC_ENV||"production"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Base Path:"})," ","/rejuvena"]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"API Connection Test"}),(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsx)("button",{onClick:h,disabled:a,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:a?"Testing...":"Test General API"}),(0,t.jsx)("button",{onClick:x,disabled:a,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:a?"Testing...":"Test Orders API"})]}),n&&(0,t.jsxs)("div",{className:"mt-4 p-4 rounded ".concat(n.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:[(0,t.jsxs)("h3",{className:"font-semibold mb-2",children:[n.success?"✅ Success":"❌ Failed",n.endpoint&&" - ".concat(n.endpoint),n.token&&" (Token: ".concat(n.token,")")]}),(0,t.jsx)("pre",{className:"text-xs overflow-auto max-h-96",children:JSON.stringify(n.success?n.data:n.error,null,2)})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Common Issues"}),(0,t.jsxs)("ul",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"text-red-500 mr-2",children:"❌"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"CORS Error:"})," Backend server needs to allow requests from ",(0,t.jsx)("code",{className:"bg-gray-100 px-1",children:"https://seplitza.github.io"})]})]}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"text-red-500 mr-2",children:"❌"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Network Error:"})," API server might be down or unreachable"]})]}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"text-green-500 mr-2",children:"✅"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"If test passes:"})," CORS is configured correctly and API is working"]})]})]})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsx)("a",{href:"/",className:"text-blue-600 hover:underline",children:"← Back to Home"})})]})})]})}},9008:function(e,s,n){e.exports=n(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=467)}),_N_E=e.O()}]);