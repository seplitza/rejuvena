(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{7168:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guest",function(){return r(3625)}])},2602:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return a},noSSR:function(){return o}});let n=r(8754);r(5893),r(7294);let s=n._(r(5491));function i(e){return{default:(null==e?void 0:e.default)||e}}function o(e,t){return delete t.webpack,delete t.modules,e(t)}function a(e,t){let r=s.default,n={loading:e=>{let{error:t,isLoading:r,pastDelay:n}=e;return null}};e instanceof Promise?n.loader=()=>e:"function"==typeof e?n.loader=e:"object"==typeof e&&(n={...n,...e});let a=(n={...n,...t}).loader;return(n.loadableGenerated&&(n={...n,...n.loadableGenerated},delete n.loadableGenerated),"boolean"!=typeof n.ssr||n.ssr)?r({...n,loader:()=>null!=a?a().then(i):Promise.resolve(i(()=>null))}):(delete n.webpack,delete n.modules,o(r,n))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1159:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return n}});let n=r(8754)._(r(7294)).default.createContext(null)},5491:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return h}});let n=r(8754)._(r(7294)),s=r(1159),i=[],o=[],a=!1;function l(e){let t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then(e=>(r.loading=!1,r.loaded=e,e)).catch(e=>{throw r.loading=!1,r.error=e,e}),r}class u{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function c(e){return function(e,t){let r=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),i=null;function l(){if(!i){let t=new u(e,r);i={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return i.promise()}if(!a){let e=r.webpack?r.webpack():r.modules;e&&o.push(t=>{for(let r of e)if(t.includes(r))return l()})}function c(e,t){!function(){l();let e=n.default.useContext(s.LoadableContext);e&&Array.isArray(r.modules)&&r.modules.forEach(t=>{e(t)})}();let o=n.default.useSyncExternalStore(i.subscribe,i.getCurrentValue,i.getCurrentValue);return n.default.useImperativeHandle(t,()=>({retry:i.retry}),[]),n.default.useMemo(()=>{var t;return o.loading||o.error?n.default.createElement(r.loading,{isLoading:o.loading,pastDelay:o.pastDelay,timedOut:o.timedOut,error:o.error,retry:i.retry}):o.loaded?n.default.createElement((t=o.loaded)&&t.default?t.default:t,e):null},[e,o])}return c.preload=()=>l(),c.displayName="LoadableComponent",n.default.forwardRef(c)}(l,e)}function d(e,t){let r=[];for(;e.length;){let n=e.pop();r.push(n(t))}return Promise.all(r).then(()=>{if(e.length)return d(e,t)})}c.preloadAll=()=>new Promise((e,t)=>{d(i).then(e,t)}),c.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let r=()=>(a=!0,t());d(o,e).then(r,r)})),window.__NEXT_PRELOADREADY=c.preloadReady;let h=c},7443:function(e,t,r){"use strict";var n=r(3454);r(1479);var s=r(7294),i=s&&"object"==typeof s&&"default"in s?s:{default:s},o=void 0!==n&&n.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,r=t.name,n=void 0===r?"stylesheet":r,s=t.optimizeForSpeed,i=void 0===s?o:s;u(a(n),"`name` must be a string"),this._name=n,this._deletedRulePlaceholder="#"+n+"-deleted-rule____{}",u("boolean"==typeof i,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=i,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l=document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){u("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),u(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;if(u(!this._injected,"sheet already injected"),this._injected=!0,this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(o||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){if(u(a(e),"`insertRule` accepts only strings"),this._optimizeForSpeed){var r=this.getSheet();"number"!=typeof t&&(t=r.cssRules.length);try{r.insertRule(e,t)}catch(t){return o||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var n=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,n))}return this._rulesCount++},t.replaceRule=function(e,t){if(this._optimizeForSpeed){var r=this.getSheet();if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(n){o||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}}else{var n=this._tags[e];u(n,"old rule at index `"+e+"` not found"),n.textContent=t}return e},t.deleteRule=function(e){if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];u(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},t.flush=function(){this._injected=!1,this._rulesCount=0,this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]},t.cssRules=function(){var e=this;return this._tags.reduce(function(t,r){return r?t=t.concat(Array.prototype.map.call(e.getSheetForTag(r).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},t.makeStyleTag=function(e,t,r){t&&u(a(t),"makeStyleTag accepts only strings as second parameter");var n=document.createElement("style");this._nonce&&n.setAttribute("nonce",this._nonce),n.type="text/css",n.setAttribute("data-"+e,""),t&&n.appendChild(document.createTextNode(t));var s=document.head||document.getElementsByTagName("head")[0];return r?s.insertBefore(n,r):s.appendChild(n),n},function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function u(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},d={};function h(e,t){if(!t)return"jsx-"+e;var r=String(t),n=e+r;return d[n]||(d[n]="jsx-"+c(e+"-"+r)),d[n]}function p(e,t){var r=e+t;return d[r]||(d[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),d[r]}var f=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,n=void 0===r?null:r,s=t.optimizeForSpeed,i=void 0!==s&&s;this._sheet=n||new l({name:"styled-jsx",optimizeForSpeed:i}),this._sheet.inject(),n&&"boolean"==typeof i&&(this._sheet.setOptimizeForSpeed(i),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var r=this.getIdAndRules(e),n=r.styleId,s=r.rules;if(n in this._instancesCounts){this._instancesCounts[n]+=1;return}var i=s.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[n]=i,this._instancesCounts[n]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var n=this._fromServer&&this._fromServer[r];n?(n.parentNode.removeChild(n),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,r;return t=this.cssRules(),void 0===(r=e)&&(r={}),t.map(function(e){var t=e[0],n=e[1];return i.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:r.nonce?r.nonce:void 0,dangerouslySetInnerHTML:{__html:n}})})},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,n=e.id;if(r){var s=h(n,r);return{styleId:s,rules:Array.isArray(t)?t.map(function(e){return p(s,e)}):[p(s,t)]}}return{styleId:h(n),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),m=s.createContext(null);m.displayName="StyleSheetContext";var g=i.default.useInsertionEffect||i.default.useLayoutEffect,x=new f;function y(e){var t=x||s.useContext(m);return t&&g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)]),null}y.dynamic=function(e){return e.map(function(e){return h(e[0],e[1])}).join(" ")},t.style=y},645:function(e,t,r){"use strict";e.exports=r(7443).style},7963:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(5893),s=r(7294),i=r(9133),o=r(7526),a=r(7796);let l=[{code:"ru",name:"Русский",flag:"\uD83C\uDDF7\uD83C\uDDFA"},{code:"en",name:"English",flag:"\uD83C\uDDEC\uD83C\uDDE7"},{code:"es",name:"Espa\xf1ol",flag:"\uD83C\uDDEA\uD83C\uDDF8"}];function u(){let e=(0,i.T)(),t=(0,i.C)(a.Kh),[r,u]=(0,s.useState)(!1),c=(0,s.useRef)(null),d=l.find(e=>e.code===t)||l[0];(0,s.useEffect)(()=>{function e(e){c.current&&!c.current.contains(e.target)&&u(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let h=t=>{e((0,o.om)(t)),u(!1)};return(0,n.jsxs)("div",{className:"relative",ref:c,children:[(0,n.jsxs)("button",{onClick:()=>u(!r),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors border border-gray-300",children:[(0,n.jsx)("span",{children:d.flag}),(0,n.jsx)("span",{children:d.code.toUpperCase()}),(0,n.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(r?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&(0,n.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50",children:l.map(e=>(0,n.jsxs)("button",{onClick:()=>h(e.code),className:"w-full flex items-center gap-3 px-4 py-2 text-sm hover:bg-gray-100 transition-colors ".concat(t===e.code?"bg-blue-50 text-[#1e3a8a] font-medium":"text-gray-700"),children:[(0,n.jsx)("span",{className:"text-xl",children:e.flag}),(0,n.jsx)("span",{children:e.name}),t===e.code&&(0,n.jsx)("svg",{className:"w-4 h-4 ml-auto text-[#1e3a8a]",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},e.code))})]})}},5871:function(e,t,r){"use strict";r.d(t,{P:function(){return s},T:function(){return n}});let n="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://localhost:9527":"https://api-rejuvena.duckdns.org",s={exercises:{public:"".concat(n,"/api/exercises/public"),byId:e=>"".concat(n,"/api/exercises/").concat(e)},courses:{public:"".concat(n,"/api/courses/public"),byId:e=>"".concat(n,"/api/courses/").concat(e)},payment:{create:"".concat(n,"/api/payment/create"),status:e=>"".concat(n,"/api/payment/status/").concat(e)}}},3625:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(5893),s=r(7294),i=r(1163),o=r(9133),a=r(3031),l=r(7963),u=r(645),c=r.n(u),d=r(5871),h=r(5152),p=r.n(h);r(4172),r(633),r(7638),r(6936);let f=p()(()=>r.e(261).then(r.bind(r,2261)).then(e=>e.Swiper),{loadableGenerated:{webpack:()=>[2261]},ssr:!1}),m=p()(()=>r.e(261).then(r.bind(r,2261)).then(e=>e.SwiperSlide),{loadableGenerated:{webpack:()=>[2261]},ssr:!1});function g(){let e=(0,i.useRouter)(),[t,o]=(0,s.useState)([]),[a,l]=(0,s.useState)(!0),[u,h]=(0,s.useState)(null),[p,g]=(0,s.useState)(null),[x,y]=(0,s.useState)(null);(0,s.useEffect)(()=>{r.e(986).then(r.bind(r,8986)).then(e=>{y(e)}).catch(e=>{console.error("Failed to load Swiper modules:",e)})},[]),(0,s.useEffect)(()=>{b()},[]);let b=async()=>{try{let e="https://api-rejuvena.duckdns.org";console.log("Fetching marathons from:","".concat(e,"/api/marathons"));let t=await fetch("".concat(e,"/api/marathons"));console.log("Response status:",t.status);let r=await t.json();console.log("Marathons data:",r),r.success&&r.marathons?(o(r.marathons),console.log("Loaded marathons:",r.marathons.length)):h("Не удалось загрузить марафоны")}catch(e){console.error("Failed to fetch marathons:",e),h("Ошибка загрузки марафонов")}finally{l(!1)}},v=async()=>{g("premium");try{var t;let r=localStorage.getItem("auth_token");if(!r){alert("Необходимо войти в систему"),e.push("/auth/login");return}let n=await fetch(d.P.payment.create,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({amount:990,description:"Премиум подписка на 30 дней",planType:"premium",duration:30})}),s=await n.json();s.success&&(null===(t=s.payment)||void 0===t?void 0:t.paymentUrl)?window.location.href=s.payment.paymentUrl:alert(s.error||"Ошибка создания платежа")}catch(e){console.error("Payment error:",e),alert("Ошибка при создании платежа")}finally{g(null)}},_=async t=>{if(t.isPaid){g(t._id);try{var r;let n=localStorage.getItem("auth_token");if(!n){alert("Необходимо войти в систему"),e.push("/auth/login");return}let s=await fetch(d.P.payment.create,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({amount:t.cost,description:"Марафон: ".concat(t.title),planType:"marathon",marathonId:t._id})}),i=await s.json();i.success&&(null===(r=i.payment)||void 0===r?void 0:r.paymentUrl)?window.location.href=i.payment.paymentUrl:alert(i.error||"Ошибка создания платежа")}catch(e){console.error("Payment error:",e),alert("Ошибка при создании платежа")}finally{g(null)}}else e.push("/marathons/".concat(t._id))},w=e=>0===e?"Бесконечный марафон":e%10==1&&e%100!=11?"".concat(e," день"):[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"".concat(e," дня"):"".concat(e," дней");if(a)return(0,n.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),(0,n.jsx)("span",{className:"ml-4 text-gray-600",children:"Загрузка предложений..."})]});if(u)return(0,n.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6 text-center",children:[(0,n.jsx)("p",{className:"text-red-600 font-semibold",children:u}),(0,n.jsx)("button",{onClick:b,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Попробовать снова"})]});0===t.length&&console.warn("No marathons loaded, showing Premium only");let j=[{id:"premium",title:"Премиум доступ",subtitle:"Полный доступ ко всем упражнениям",badge:"⭐ Популярный",badgeColor:"bg-yellow-400 text-yellow-900",gradient:"from-purple-600 to-pink-600",borderColor:"border-purple-200 hover:border-purple-400",buttonGradient:"from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",price:990,priceLabel:"/ месяц",buttonText:"Оплатить 990 ₽",features:[{title:"Полное видео-инструкция",description:"Детальная демонстрация каждого упражнения"},{title:"Доступ на 1 месяц",description:"30 дней автоматического доступа"},{title:"Все категории упражнений",description:"100+ видео, лицо, шея, тело + другое"}]},...t.map(e=>({id:e._id,title:e.title,subtitle:e.description||"Марафон омоложения",badge:e.isPaid?null:"\uD83C\uDF81 Бесплатно",badgeColor:"bg-green-400 text-green-900",gradient:"from-blue-600 to-cyan-600",borderColor:"border-blue-200 hover:border-blue-400",buttonGradient:e.isPaid?"from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700":"from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700",price:e.isPaid?e.cost:null,priceLabel:e.isPaid?"разовый платеж":null,buttonText:e.isPaid?"Оплатить ".concat(e.cost," ₽"):"Присоединиться бесплатно",isPaidMarathon:e.isPaid,features:[{title:"Длительность",description:w(e.numberOfDays)},{title:"Старт марафона",description:new Date(e.startDate).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})},{title:0===e.numberOfDays?"Каждый день":"Ежедневные упражнения",description:0===e.numberOfDays?"Одинаковый набор упражнений каждый день":"Новые упражнения каждый день"}],marathonData:e}))],S=async e=>{"premium"===e.id?await v():e.marathonData&&await _(e.marathonData)},N=e=>(0,n.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border-2 ".concat(e.borderColor," transition-all duration-300 h-full flex flex-col"),children:[(0,n.jsxs)("div",{className:"bg-gradient-to-r ".concat(e.gradient," p-6 text-white"),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,n.jsx)("h3",{className:"text-2xl font-bold",children:e.title}),e.badge&&(0,n.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ".concat(e.badgeColor),children:e.badge})]}),(0,n.jsx)("p",{className:"premium"===e.id?"text-purple-100":"text-blue-100",children:e.subtitle})]}),(0,n.jsxs)("div",{className:"p-6 flex-grow flex flex-col",children:[(0,n.jsx)("div",{className:"space-y-4 mb-6 flex-grow",children:e.features.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold text-gray-900",children:e.title}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]})]},t))}),(0,n.jsxs)("div",{className:"border-t pt-6",children:[(0,n.jsx)("div",{className:"flex items-baseline justify-between mb-4",children:(0,n.jsx)("div",{children:null!==e.price?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"text-4xl font-bold text-gray-900",children:[e.price," ₽"]}),(0,n.jsx)("span",{className:"text-gray-600 ml-2",children:e.priceLabel})]}):"premium"!==e.id&&(0,n.jsx)("span",{className:"text-4xl font-bold text-green-600",children:"Бесплатно"})})}),(0,n.jsx)("button",{onClick:()=>S(e),disabled:p===e.id,className:"w-full bg-gradient-to-r ".concat(e.buttonGradient," text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"),children:p===e.id?"Обработка...":e.buttonText}),("premium"===e.id||"isPaidMarathon"in e&&e.isPaidMarathon)&&(0,n.jsx)("p",{className:"text-xs text-gray-500 text-center mt-3",children:"Безопасная оплата через Альфа-Банк"})]})]})]});if(!x||!f||!m)return console.log("Swiper not loaded, using grid layout"),(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(e=>(0,n.jsx)("div",{children:N(e)},e.id))})});let{EffectCoverflow:C,Navigation:k,Pagination:P,Autoplay:D}=x;return(0,n.jsxs)("div",{className:"jsx-d124a106eaf2e4ad mb-6 offers-slider-container",children:[(0,n.jsx)(c(),{id:"d124a106eaf2e4ad",children:".offers-slider-container .swiper{padding:20px 10px 50px}.offers-slider-container .swiper-slide{height:auto;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.offers-slider-container .swiper-button-prev,.offers-slider-container .swiper-button-next{color:#9333ea;background:white;width:40px;height:40px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-box-shadow:0 4px 6px rgba(0,0,0,.1);-moz-box-shadow:0 4px 6px rgba(0,0,0,.1);box-shadow:0 4px 6px rgba(0,0,0,.1)}.offers-slider-container .swiper-button-prev:after,.offers-slider-container .swiper-button-next:after{font-size:18px;font-weight:bold}.offers-slider-container .swiper-pagination-bullet{background:#9333ea;opacity:.5}.offers-slider-container .swiper-pagination-bullet-active{opacity:1;background:#9333ea}"}),(0,n.jsx)(f,{modules:[C,k,P,D],effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:10,stretch:0,depth:150,modifier:1.5,slideShadows:!0},navigation:!0,pagination:{clickable:!0},autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:30},1024:{slidesPerView:3,spaceBetween:30}},className:"offers-swiper",children:j.map(e=>(0,n.jsx)(m,{style:{width:"350px",maxWidth:"90vw"},children:N(e)},e.id))})]})}var x=()=>{let e=(0,i.useRouter)(),t=(0,o.T)(),{isAuthenticated:r}=(0,o.C)(e=>e.auth);return(0,s.useEffect)(()=>{if(r){e.push("/dashboard");return}t((0,a.SH)())},[r,t,e]),(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)("header",{className:"bg-white shadow",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8 flex justify-between items-center",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Личный кабинет"}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(l.Z,{}),(0,n.jsx)("button",{onClick:()=>e.push("/auth/login"),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:"Вход"})]})]})}),(0,n.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Добро пожаловать, Гость!"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Email: Не указан"})]}),(0,n.jsx)(g,{}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,n.jsxs)("button",{onClick:()=>e.push("/exercises"),className:"p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow text-left",children:[(0,n.jsx)("div",{className:"text-4xl mb-2",children:"\uD83C\uDFAF"}),(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Упражнения"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Просмотр доступных упражнений"})]}),(0,n.jsxs)("button",{onClick:()=>e.push("/photo-diary"),className:"p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow text-left",children:[(0,n.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCF8"}),(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Фото-дневник"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Отслеживайте свой прогресс"})]}),(0,n.jsxs)("button",{onClick:()=>e.push("/profile/settings"),className:"p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow text-left",children:[(0,n.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDC64"}),(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"Профиль"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Настройки аккаунта"})]}),(0,n.jsxs)("button",{onClick:()=>e.push("/auth/login"),className:"p-6 bg-white rounded-lg shadow hover:shadow-md transition-shadow text-left border-2 border-purple-300",children:[(0,n.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDD10"}),(0,n.jsx)("h3",{className:"font-semibold text-purple-600 mb-1",children:"Войти"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Получить полный доступ"})]})]})]})]})}},7796:function(e,t,r){"use strict";r.d(t,{JB:function(){return f},Kh:function(){return h},LJ:function(){return p},aJ:function(){return u},gi:function(){return m},h3:function(){return y},ks:function(){return l},sy:function(){return o},z5:function(){return g}});var n=r(8697);let s=e=>e.courses,i=(0,n.P1)([s],e=>e.myOrders),o=i,a=(0,n.P1)([i],e=>e.filter(e=>"Approved"===e.orderStatus||"Active"===e.status||!0===e.isPurchased)),l=(0,n.P1)([s],e=>e.loadingOrders);(0,n.P1)([s],e=>e.ordersError);let u=(0,n.P1)([s],e=>e.activatingOrderId),c=(0,n.P1)([s],e=>e.availableCourses),d=(0,n.P1)([s],e=>e.demoCourses);(0,n.P1)([c,d],(e,t)=>[...e,...t]);let h=(0,n.P1)([s],e=>e.selectedLanguage),p=(0,n.P1)([c,h],(e,t)=>e.filter(e=>e.languageCulture===t)),f=(0,n.P1)([d,h],(e,t)=>e.filter(e=>e.languageCulture===t)),m=(0,n.P1)([s],e=>e.loadingCourses);(0,n.P1)([s],e=>e.coursesError);let g=(0,n.P1)([s],e=>e.selectedCourse);(0,n.P1)([s],e=>e.coursePlans),(0,n.P1)([s],e=>e.loadingDetails),(0,n.P1)([s],e=>e.detailsError);let x=(0,n.P1)([s],e=>e.marathons);(0,n.P1)([s],e=>e.loadingMarathon),(0,n.P1)([s],e=>e.marathonError);let y=(0,n.P1)([a,x],(e,t)=>e.map(e=>{var r,n,s;let i=e.wpMarathonId||e.marathonId||e.id;return{...e,marathonId:i,marathon:t[i],progress:(null===(r=t[i])||void 0===r?void 0:r.progress)||0,completedDays:(null===(n=t[i])||void 0===n?void 0:n.completedDays)||0,totalDays:(null===(s=t[i])||void 0===s?void 0:s.totalDays)||e.days||0}}))},1479:function(){},633:function(){},7638:function(){},6936:function(){},4172:function(){},5152:function(e,t,r){e.exports=r(2602)},8697:function(e,t,r){"use strict";r.d(t,{P1:function(){return i}});var n="NOT_FOUND",s=function(e,t){return e===t},i=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t,n=arguments.length,s=Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=0,a={memoizeOptions:void 0},l=s.pop();if("object"==typeof l&&(a=l,l=s.pop()),"function"!=typeof l)throw Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var u=a.memoizeOptions,c=void 0===u?r:u,d=Array.isArray(c)?c:[c],h=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t.map(function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e}).join(", ")+"]");return t}(s),p=e.apply(void 0,[function(){return o++,l.apply(null,arguments)}].concat(d)),f=e(function(){for(var e=[],r=h.length,n=0;n<r;n++)e.push(h[n].apply(null,arguments));return t=p.apply(null,e)});return Object.assign(f,{resultFunc:l,memoizedResultFunc:p,dependencies:h,lastResult:function(){return t},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),f}}(function(e,t){var r,i,o="object"==typeof t?t:{equalityCheck:t},a=o.equalityCheck,l=o.maxSize,u=void 0===l?1:l,c=o.resultEqualityCheck,d=(r=void 0===a?s:a,function(e,t){if(null===e||null===t||e.length!==t.length)return!1;for(var n=e.length,s=0;s<n;s++)if(!r(e[s],t[s]))return!1;return!0}),h=1===u?{get:function(e){return i&&d(i.key,e)?i.value:n},put:function(e,t){i={key:e,value:t}},getEntries:function(){return i?[i]:[]},clear:function(){i=void 0}}:function(e,t){var r=[];function s(e){var s=r.findIndex(function(r){return t(e,r.key)});if(s>-1){var i=r[s];return s>0&&(r.splice(s,1),r.unshift(i)),i.value}return n}return{get:s,put:function(t,i){s(t)===n&&(r.unshift({key:t,value:i}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(u,d);function p(){var t=h.get(arguments);if(t===n){if(t=e.apply(null,arguments),c){var r=h.getEntries().find(function(e){return c(e.value,t)});r&&(t=r.value)}h.put(arguments,t)}return t}return p.clearCache=function(){return h.clear()},p})}},function(e){e.O(0,[888,774,179],function(){return e(e.s=7168)}),_N_E=e.O()}]);