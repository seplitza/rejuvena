(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[282],{4869:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/marathons/[id]/day/[dayNumber]",function(){return r(9090)}])},9090:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(5893),s=r(7294),a=r(1163),i=r(9133),l=r(5689),c=r(7369),d=r(3382),o=r(2483),u=r(9562),m=r(440),x=r(3586);function p(){let e=(0,a.useRouter)(),{id:t,dayNumber:r}=e.query,p=(0,i.T)(),h=(0,i.C)(l._R),f=(0,i.C)(l.LV),b=(0,i.C)(l.Rc),y=(0,i.C)(l.ay),{isAuthenticated:g}=(0,i.C)(e=>e.auth);if((0,s.useEffect)(()=>{if(!g){let t=e.asPath;e.push("/auth/login?returnUrl=".concat(encodeURIComponent(t)))}},[g,e]),(0,s.useEffect)(()=>(t&&r&&"string"==typeof t&&"string"==typeof r&&g&&p((0,c.JL)({marathonId:t,dayId:r})),()=>{p((0,c.M$)())}),[t,r,p,g]),!g)return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-pink-50 to-purple-50",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Проверка доступа..."})]})});if(f)return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-pink-50 to-purple-50",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Загрузка дня..."})]})});if(b){let t=b.includes("Not enrolled")||b.includes("403")||b.includes("enrollment");return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-pink-50 to-purple-50",children:(0,n.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:t?"\uD83D\uDD12":"\uD83D\uDE1E"}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:t?"Марафон недоступен":"Ошибка загрузки"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:t?"Вы не записаны на этот марафон. Вернитесь на страницу марафонов и запишитесь, чтобы получить доступ к содержимому.":b}),(0,n.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,n.jsx)("button",{onClick:()=>e.push("/marathons"),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:t?"К марафонам":"Вернуться"}),t&&(0,n.jsx)("button",{onClick:()=>e.back(),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Назад"})]})]})})}return h&&y?(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50",children:[(0,n.jsx)(d.Z,{}),(0,n.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[(0,n.jsx)(o.Z,{}),(0,n.jsx)(u.Z,{}),t&&"string"==typeof t&&(null==y?void 0:y.day)&&(0,n.jsx)(m.Z,{marathonId:t,currentDayNumber:y.day}),t&&"string"==typeof t&&(null==y?void 0:y.day)&&(0,n.jsx)(x.Z,{marathonId:t,marathonDayNumber:y.day,context:"marathon-day"})]})]}):null}}},function(e){e.O(0,[675,505,441,64,586,888,774,179],function(){return e(e.s=4869)}),_N_E=e.O()}]);