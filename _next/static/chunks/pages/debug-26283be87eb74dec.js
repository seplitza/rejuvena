(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{467:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/debug",function(){return t(6585)}])},6585:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var n=t(5893),r=t(7294),l=t(9008),c=t.n(l),a=t(803),i=t(3454);function o(){let[e,s]=(0,r.useState)(""),[t,l]=(0,r.useState)(null),[o,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{s("https://new-facelift-service-b8cta5hpgcgqf8c7.eastus-01.azurewebsites.net")},[]);let h=async()=>{d(!0),l(null);try{console.log("Testing API connection...");let e=await a.WY.get(a.Hv.QK);l({success:!0,data:e}),console.log("✅ API Test Success:",e)}catch(e){l({success:!1,error:e}),console.error("❌ API Test Failed:",e)}finally{d(!1)}},x=async()=>{d(!0),l(null);try{let e=localStorage.getItem("auth_token");console.log("Testing Orders API with token:",e?"Present":"Missing"),console.log("Full API URL:","".concat("https://new-facelift-service-b8cta5hpgcgqf8c7.eastus-01.azurewebsites.net").concat(a.Hv.oJ));let s=new Date().getTimezoneOffset(),t=await a.WY.get(a.Hv.oJ,{params:{timeZoneOffSet:s}});l({success:!0,endpoint:"get_order_list",data:t,token:e?"Present":"Missing"}),console.log("✅ Orders API Test Success:",t)}catch(e){l({success:!1,endpoint:"get_order_list",error:e,token:localStorage.getItem("auth_token")?"Present":"Missing"}),console.error("❌ Orders API Test Failed:",e)}finally{d(!1)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c(),{children:(0,n.jsx)("title",{children:"Debug - API Connection Test"})}),(0,n.jsx)("div",{className:"min-h-screen bg-gray-100 p-8",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"\uD83D\uDD27 Debug Information"}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Environment"}),(0,n.jsxs)("div",{className:"space-y-2 font-mono text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"API URL:"})," ",e]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Environment:"})," ",i.env.NEXT_PUBLIC_ENV||"production"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Base Path:"})," ","/rejuvena"]})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"API Connection Test"}),(0,n.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,n.jsx)("button",{onClick:h,disabled:o,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:o?"Testing...":"Test General API"}),(0,n.jsx)("button",{onClick:x,disabled:o,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:o?"Testing...":"Test Orders API"})]}),t&&(0,n.jsxs)("div",{className:"mt-4 p-4 rounded ".concat(t.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:[(0,n.jsxs)("h3",{className:"font-semibold mb-2",children:[t.success?"✅ Success":"❌ Failed",t.endpoint&&" - ".concat(t.endpoint),t.token&&" (Token: ".concat(t.token,")")]}),(0,n.jsx)("pre",{className:"text-xs overflow-auto max-h-96",children:JSON.stringify(t.success?t.data:t.error,null,2)})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Common Issues"}),(0,n.jsxs)("ul",{className:"space-y-3 text-sm",children:[(0,n.jsxs)("li",{className:"flex items-start",children:[(0,n.jsx)("span",{className:"text-red-500 mr-2",children:"❌"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"CORS Error:"})," Backend server needs to allow requests from ",(0,n.jsx)("code",{className:"bg-gray-100 px-1",children:"https://seplitza.github.io"})]})]}),(0,n.jsxs)("li",{className:"flex items-start",children:[(0,n.jsx)("span",{className:"text-red-500 mr-2",children:"❌"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Network Error:"})," API server might be down or unreachable"]})]}),(0,n.jsxs)("li",{className:"flex items-start",children:[(0,n.jsx)("span",{className:"text-green-500 mr-2",children:"✅"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"If test passes:"})," CORS is configured correctly and API is working"]})]})]})]}),(0,n.jsx)("div",{className:"mt-6 text-center",children:(0,n.jsx)("a",{href:"/",className:"text-blue-600 hover:underline",children:"← Back to Home"})})]})})]})}},9008:function(e,s,t){e.exports=t(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=467)}),_N_E=e.O()}]);