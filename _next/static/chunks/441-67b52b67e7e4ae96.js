"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[441],{4675:function(e,t,r){r.d(t,{Z:function(){return c}});var l=r(5893),o=r(645),s=r.n(o),i=r(7294),n=r(5675),a=r.n(n);function d(e){var t,r,l,o,s,i,n,a;if(!e)return{embedUrl:"",type:"iframe"};if(e.match(/\.(mp4|webm|ogg|mov)$/i))return{embedUrl:e,type:"video"};if(e.includes("player.vimeo.com/video/")){let r=null===(t=e.split("player.vimeo.com/video/")[1])||void 0===t?void 0:t.split("?")[0];return{embedUrl:"https://player.vimeo.com/video/".concat(r,"?title=0&byline=0&portrait=0&badge=0&autopause=0&player_id=0&dnt=1&controls=1&transparent=0"),type:"iframe"}}if(e.includes("youtube.com/embed/")){let t=null===(r=e.split("youtube.com/embed/")[1])||void 0===r?void 0:r.split("?")[0];return{embedUrl:"https://www.youtube.com/embed/".concat(t,"?modestbranding=1&rel=0&showinfo=0&fs=1&controls=1&disablekb=0&iv_load_policy=3&cc_load_policy=0&playsinline=1&enablejsapi=1&origin=").concat(encodeURIComponent(window.location.origin)),type:"iframe"}}if(e.includes("rutube.ru/play/embed/")||e.includes("vk.com/video_ext.php")||e.includes("dzen.ru/embed/"))return{embedUrl:e,type:"iframe"};if(e.includes("youtube.com")||e.includes("youtu.be")){let t=e.includes("youtu.be")?null===(l=e.split("youtu.be/")[1])||void 0===l?void 0:l.split("?")[0]:new URL(e).searchParams.get("v");return{embedUrl:"https://www.youtube.com/embed/".concat(t,"?modestbranding=1&rel=0&showinfo=0&fs=1&controls=1&disablekb=0&iv_load_policy=3&cc_load_policy=0&playsinline=1&enablejsapi=1&origin=").concat(encodeURIComponent(window.location.origin)),type:"iframe"}}if(e.includes("vimeo.com")&&!e.includes("player.vimeo.com")){let t=null===(o=e.split("vimeo.com/")[1])||void 0===o?void 0:o.split("?")[0];return{embedUrl:"https://player.vimeo.com/video/".concat(t,"?title=0&byline=0&portrait=0&badge=0&autopause=0&player_id=0&dnt=1&controls=1&transparent=0"),type:"iframe"}}if(e.includes("rutube.ru")){let t=null===(s=e.split("rutube.ru/video/")[1])||void 0===s?void 0:s.split("?")[0];return t||(t=null===(i=e.split("rutube.ru/play/embed/")[1])||void 0===i?void 0:i.split("?")[0]),{embedUrl:"https://rutube.ru/play/embed/".concat(t),type:"iframe"}}if(e.includes("vk.com/video")){let t=e.match(/video(-?\d+)_(\d+)/);if(t){let[,e,r]=t;return{embedUrl:"https://vk.com/video_ext.php?oid=".concat(e,"&id=").concat(r),type:"iframe"}}}if(e.includes("dzen.ru")){let t=(null===(n=e.split("dzen.ru/video/watch/")[1])||void 0===n?void 0:n.split("?")[0])||(null===(a=e.split("dzen.ru/embed/")[1])||void 0===a?void 0:a.split("?")[0]);if(t)return{embedUrl:"https://dzen.ru/embed/".concat(t),type:"iframe"}}return e.includes("t.me"),{embedUrl:e,type:"iframe"}}function c(e){var t,r;let{exercise:o,isOpen:n,onClose:c,onCheckboxChange:u,isDone:p}=e,[m,h]=(0,i.useState)(!1),[x,v]=(0,i.useState)(0),[b,g]=(0,i.useState)([]),[f,y]=(0,i.useState)(!1),[j,w]=(0,i.useState)(!1),[N,k]=(0,i.useState)(0),C=(0,i.useRef)(null);if((0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&c()};return n&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[n,c]),(0,i.useEffect)(()=>{if(!n||!C.current)return;let e=setTimeout(()=>{let e=C.current;e&&(e.scrollHeight>e.clientHeight+10||j||(console.log("\uD83D\uDCDC Content is short, no scroll needed - auto-completing description"),w(!0)))},300);return()=>clearTimeout(e)},[n,o,b]),(0,i.useEffect)(()=>{if(!o)return;let e=[...o.exerciseContents||[]].sort((e,t)=>(e.order||0)-(t.order||0)).filter(e=>"video"===e.type||"image"===e.type).map(e=>{let t={id:e.id||Math.random().toString(),type:e.type,contentPath:e.contentPath,loadError:!1};if("video"===e.type){let{embedUrl:r,type:l}=d(e.contentPath);t.embedUrl=r,t.videoType=l}return t});if(0===e.length){let t=o.imageUrl||o.imageUrl,r=o.videoUrl||o.videoUrl;if(t&&e.push({id:"fallback-image",type:"image",contentPath:t,loadError:!1}),r){let{embedUrl:t,type:l}=d(r);e.push({id:"fallback-video",type:"video",contentPath:r,embedUrl:t,videoType:l,loadError:!1})}}g(e),v(0),y(!1),w(!1),k(0)},[o]),(0,i.useEffect)(()=>{if(p||!u)return;let e=o.exerciseDescription||"",t=o.description||"",r=o.content||"",l=o.marathonExerciseDescription||"",s=!(b.length>0&&"video"===b[0].type)||f,i=!(e||t||r||l)||j;s&&i&&(console.log("✅ Auto-completing exercise: video watched and description scrolled"),u(!0))},[f,j,p,u,o,b]),(0,i.useEffect)(()=>{if(!n||f||!(b.length>0&&"video"===b[0].type))return;let e=setInterval(()=>{k(t=>{let r=t+1;return r>=15&&(console.log("\uD83C\uDFA5 Video timer reached 15s - marking as watched"),y(!0),clearInterval(e)),r})},1e3);return()=>clearInterval(e)},[n,f,b]),(0,i.useEffect)(()=>{let e=e=>{if(e.data&&"string"==typeof e.data)try{let t=JSON.parse(e.data);0===x&&("onStateChange"===t.event&&0===t.info&&(console.log("\uD83C\uDFA5 YouTube video ended (onStateChange=0)"),y(!0)),"ended"===t.event&&(console.log("\uD83C\uDFA5 Video ended (via postMessage)"),y(!0)))}catch(e){}e.data&&"object"==typeof e.data&&0===x&&(("ended"===e.data.event||"finish"===e.data.event)&&(console.log("\uD83C\uDFA5 Vimeo video ended (via postMessage)"),y(!0)),"player:ended"===e.data.type&&(console.log("\uD83C\uDFA5 RuTube video ended (via postMessage)"),y(!0)))};return n&&window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[n,x]),!n||!o)return null;let F=o.exerciseName||"",D=o.marathonExerciseName||"",M=o.exerciseDescription||"",E=o.description||"",z=o.content||"",L=o.marathonExerciseDescription||"",U=E.length>M.length?E:M;z.length>U.length&&(U=z),L.length>U.length&&(U=L),U&&(U=U.replace(/[\u{1F600}-\u{1F64F}\u{1F300}-\u{1F5FF}\u{1F680}-\u{1F6FF}\u{1F700}-\u{1F77F}\u{1F780}-\u{1F7FF}\u{1F800}-\u{1F8FF}\u{1F900}-\u{1F9FF}\u{1FA00}-\u{1FA6F}\u{1FA70}-\u{1FAFF}\u{2600}-\u{26FF}\u{2700}-\u{27BF}](?:\u{FE0F}|\u{200D}[\u{1F3FB}-\u{1F3FF}]?)?/gu,e=>e.replace(/[\uFE0F\u200D]/g,"")));let _=/<\/?[a-z][\s\S]*>/i.test(U),R=o.type||"",B=o.duration||0,S=!!o.isNew,P=!!(M||E||z||L),T=b.length>0&&"video"===b[0].type,A=S&&T,I=S&&P,q=!S||(!T||f)&&(!P||j),H=b.filter(e=>!e.loadError),W=H[x],V=e=>{g(t=>t.map((t,r)=>r===e?{...t,loadError:!0}:t))};return(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm md:p-4",children:(0,l.jsxs)("div",{className:"relative w-full h-full md:max-w-3xl md:max-h-[90vh] md:h-auto bg-white md:rounded-2xl shadow-2xl overflow-hidden flex flex-col",children:[(0,l.jsx)("div",{className:"text-white p-3 md:p-4 flex-shrink-0",style:{backgroundImage:"linear-gradient(to right, var(--color-primary), var(--color-secondary))"},children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1 pr-2",children:[(0,l.jsx)("h2",{className:"text-lg md:text-xl font-bold mb-0.5",children:F}),D&&(0,l.jsx)("p",{className:"text-sm opacity-90",children:D}),(R||B>0)&&(0,l.jsxs)("div",{className:"flex items-center space-x-2 mt-2 text-xs",children:[R&&(0,l.jsx)("span",{className:"flex items-center space-x-1 bg-white/20 px-2 py-0.5 rounded-full",children:(0,l.jsx)("span",{children:"Video"===R?"Видео":"Reading"===R?"Теория":"Практика"})}),B>0&&(0,l.jsx)("span",{className:"flex items-center space-x-1 bg-white/20 px-2 py-0.5 rounded-full",children:(0,l.jsxs)("span",{children:[Math.floor(B/60)," мин"]})})]}),S&&!p&&(A||I)&&(0,l.jsxs)("div",{className:"mt-3 text-xs bg-white/10 backdrop-blur-sm rounded-lg px-3 py-2",children:[(0,l.jsxs)("div",{className:"font-semibold mb-1.5 flex items-center",children:[(0,l.jsx)("svg",{className:"w-3.5 h-3.5 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Для завершения:"]}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[A&&(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"flex items-center space-x-1.5",children:f?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("svg",{className:"w-3 h-3 text-green-300 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,l.jsx)("span",{className:"line-through opacity-70",children:"Видео просмотрено"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("svg",{className:"w-3 h-3 text-yellow-300 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm0-2a6 6 0 100-12 6 6 0 000 12z",clipRule:"evenodd"})}),(0,l.jsxs)("span",{children:["Досмотрите видео",N>0?" (".concat(15-N,"с)"):""]})]})}),!f&&N>=5&&(0,l.jsx)("button",{onClick:()=>y(!0),className:"text-[10px] bg-white/20 hover:bg-white/30 px-2 py-0.5 rounded-full transition-colors",children:"Просмотрено ✓"})]}),I&&(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"flex items-center space-x-1.5",children:j?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("svg",{className:"w-3 h-3 text-green-300 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,l.jsx)("span",{className:"line-through opacity-70",children:"Текст прочитан"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("svg",{className:"w-3 h-3 text-yellow-300 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm0-2a6 6 0 100-12 6 6 0 000 12z",clipRule:"evenodd"})}),(0,l.jsx)("span",{children:"Дочитайте описание"})]})}),!j&&(0,l.jsx)("button",{onClick:()=>w(!0),className:"text-[10px] bg-white/20 hover:bg-white/30 px-2 py-0.5 rounded-full transition-colors",children:"Прочитано ✓"})]})]})]})]}),u&&(0,l.jsxs)("div",{className:"flex-shrink-0 mr-2 relative group",children:[(0,l.jsx)("button",{onClick:()=>{q&&u(!p)},disabled:!q,className:"w-6 h-6 rounded-md border-2 transition-colors flex items-center justify-center ".concat(q?"border-white/50 hover:border-white cursor-pointer":"border-white/30 cursor-not-allowed opacity-50"),"aria-label":p?"Отметить как невыполненное":"Отметить как выполненное",children:p&&(0,l.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),!q&&S&&(0,l.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-64 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-xl opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50",children:[(0,l.jsx)("div",{className:"font-semibold mb-2",children:"\uD83D\uDCCB Для завершения упражнения:"}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[A&&(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[f?(0,l.jsx)("span",{className:"text-green-400 flex-shrink-0",children:"✓"}):(0,l.jsx)("span",{className:"text-yellow-400 flex-shrink-0",children:"○"}),(0,l.jsx)("span",{className:f?"line-through opacity-60":"",children:"Досмотрите видео до конца"})]}),I&&(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[j?(0,l.jsx)("span",{className:"text-green-400 flex-shrink-0",children:"✓"}):(0,l.jsx)("span",{className:"text-yellow-400 flex-shrink-0",children:"○"}),(0,l.jsx)("span",{className:j?"line-through opacity-60":"",children:"Дочитайте описание до конца"})]})]}),(0,l.jsx)("div",{className:"absolute -top-1 right-4 w-2 h-2 bg-gray-900 transform rotate-45"})]})]}),(0,l.jsx)("button",{onClick:c,className:"flex-shrink-0 p-1.5 hover:bg-white/10 rounded-lg transition-colors","aria-label":"Закрыть",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,l.jsxs)("div",{ref:C,className:"flex-1 overflow-y-auto",onScroll:e=>{let t=e.currentTarget;t.scrollHeight-t.scrollTop<=t.clientHeight+50&&!j&&(console.log("\uD83D\uDCDC Description scrolled to end"),w(!0))},children:[H.length>0&&(0,l.jsx)("div",{className:"flex flex-col items-center py-4",style:{backgroundColor:"var(--color-primary-light, rgba(147, 51, 234, 0.1))"},children:(0,l.jsx)("div",{className:"w-full max-w-[400px] px-4 md:px-0",children:(0,l.jsxs)("div",{className:"relative w-full",children:[(null==W?void 0:W.type)==="image"&&(0,l.jsx)("div",{className:"absolute top-4 left-4 right-4 z-10",children:(0,l.jsxs)("div",{className:"text-white text-sm px-4 py-2.5 rounded-lg text-center shadow-lg",style:{backgroundColor:"var(--color-primary, #9333ea)",opacity:.95},children:[(0,l.jsx)("p",{className:"font-semibold mb-1",children:"\uD83D\uDCA1 Основное движение"}),(0,l.jsxs)("p",{className:"text-xs opacity-90",children:["Ознакомьтесь с видео инструкцией",H.length>1&&", нажмите на стрелочку вправо"]})]})}),W&&(0,l.jsx)("div",{className:"w-full",children:"video"===W.type?"video"===W.videoType?(0,l.jsx)("video",{src:W.embedUrl,controls:!0,controlsList:"nodownload nofullscreen noremoteplayback",disablePictureInPicture:!0,className:"w-full aspect-square object-contain bg-white rounded-lg",playsInline:!0,onError:()=>V(x),onEnded:()=>{0===x&&(console.log("\uD83C\uDFA5 First video watched to end"),y(!0))},onContextMenu:e=>e.preventDefault()}):(0,l.jsxs)("div",{className:"jsx-100156e96e85fe95 w-full aspect-square bg-white rounded-lg overflow-hidden relative",children:[(0,l.jsx)("iframe",{src:W.embedUrl,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onError:()=>V(x),className:"jsx-100156e96e85fe95 w-full h-full"}),(0,l.jsx)("div",{style:{height:"20%",zIndex:10},onClick:e=>e.stopPropagation(),className:"jsx-100156e96e85fe95 absolute top-0 left-0 right-0 pointer-events-auto bg-transparent"}),(null===(t=W.embedUrl)||void 0===t?void 0:t.includes("youtube.com"))?(0,l.jsx)("div",{style:{right:"48px",width:"100px",height:"48px",zIndex:10},onClick:e=>e.stopPropagation(),className:"jsx-100156e96e85fe95 absolute bottom-0 pointer-events-auto bg-transparent"}):(null===(r=W.embedUrl)||void 0===r?void 0:r.includes("vimeo.com"))?(0,l.jsx)("div",{style:{width:"80px",height:"80px",zIndex:10},onClick:e=>e.stopPropagation(),className:"jsx-100156e96e85fe95 absolute bottom-0 right-0 pointer-events-auto bg-transparent"}):null,(0,l.jsx)(s(),{id:"100156e96e85fe95",children:'.vp-sidedock,.vp-title,.vp-byline,.vp-portrait,.vp-badge,.vp-sidedock-button{display:none!important;opacity:0!important;visibility:hidden!important}iframe[src*="youtube.com"] .ytp-title,iframe[src*="youtube.com"] .ytp-chrome-top,iframe[src*="youtube.com"] .ytp-show-cards-title,iframe[src*="youtube.com"] .ytp-watermark{display:none!important;pointer-events:none!important}'})]}):(0,l.jsx)("div",{className:"w-full aspect-square flex items-center justify-center bg-white rounded-lg p-4",children:(0,l.jsx)("div",{className:"relative w-1/2 h-1/2",children:(0,l.jsx)(a(),{src:W.contentPath,alt:F,fill:!0,className:"object-contain",onError:()=>V(x)})})})},W.id),H.length>1&&(0,l.jsxs)(l.Fragment,{children:[x>0&&(0,l.jsx)("button",{onClick:()=>{v(e=>Math.max(0,e-1))},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all z-10","aria-label":"Предыдущее",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),x<H.length-1&&(0,l.jsx)("button",{onClick:()=>{v(e=>Math.min(H.length-1,e+1))},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all z-10","aria-label":"Следующее",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,l.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 z-10",children:H.map((e,t)=>(0,l.jsx)("button",{onClick:()=>v(t),className:"w-2 h-2 rounded-full transition-all ".concat(t===x?"bg-white w-6":"bg-white/50 hover:bg-white/75"),"aria-label":"Перейти к ".concat(t+1)},t))})]})]})})}),U&&(0,l.jsx)("div",{className:"p-4 md:p-6",children:_?(0,l.jsx)("div",{className:"prose prose-sm max-w-none prose-headings:font-bold prose-p:text-gray-700 prose-p:leading-relaxed prose-a:no-underline hover:prose-a:underline prose-strong:text-gray-900 prose-strong:font-semibold prose-ul:list-disc prose-ol:list-decimal prose-li:text-gray-700 prose-li:my-1 prose-blockquote:border-l-4 prose-blockquote:pl-4 prose-blockquote:italic",style:{"--tw-prose-headings":"var(--color-text-primary, #581c87)","--tw-prose-links":"var(--color-primary, #9333ea)","--tw-prose-quote-borders":"var(--color-primary-border, rgba(147, 51, 234, 0.5))"},dangerouslySetInnerHTML:{__html:U}}):(0,l.jsx)("div",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-line",children:U})}),(0,l.jsxs)("div",{className:"border-t border-gray-200 bg-gray-50",children:[(0,l.jsxs)("button",{onClick:()=>h(!m),className:"w-full px-4 md:px-6 py-3 flex items-center justify-between hover:bg-gray-100 transition-colors",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,l.jsx)("span",{className:"text-base font-semibold text-gray-900",children:"Комментарии"}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"(скоро)"})]}),(0,l.jsx)("svg",{className:"w-5 h-5 text-gray-500 transition-transform ".concat(m?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&(0,l.jsx)("div",{className:"px-4 md:px-6 pb-6 pt-2",children:(0,l.jsx)("div",{className:"text-sm text-gray-500 text-center py-8 bg-white rounded-lg border border-gray-200",children:"\uD83D\uDCDD Раздел комментариев будет доступен в следующей версии"})})]})]}),(0,l.jsx)("div",{className:"flex-shrink-0 border-t border-gray-200 px-4 md:px-6 py-3 bg-white",children:(0,l.jsx)("button",{onClick:c,className:"w-full px-6 py-2.5 text-white font-medium rounded-lg transition-colors",style:{backgroundColor:"var(--color-primary)"},onMouseEnter:e=>{e.currentTarget.style.opacity="0.9"},onMouseLeave:e=>{e.currentTarget.style.opacity="1"},children:"Закрыть"})})]})})}},3224:function(e,t,r){r.d(t,{Z:function(){return o}});var l=r(5893);function o(e){let{exercise:t,uniqueId:r,isDone:o,isChanging:s,onToggle:i,onCheck:n}=e,{exerciseName:a,marathonExerciseName:d,isNew:c,blockExercise:u}=t,p=u||s;return(0,l.jsx)("div",{className:"border-2 rounded-lg transition-all ".concat(u?"bg-gray-100 border-gray-300":c?"bg-green-50 border-green-300":o?"border-2":"bg-white border-gray-200"," ").concat(u?"opacity-60 cursor-not-allowed":"hover:shadow-md"),style:!o||u||c?{}:{backgroundColor:"var(--color-primary-light, rgba(147, 51, 234, 0.1))",borderColor:"var(--color-primary-border, rgba(147, 51, 234, 0.3))"},children:(0,l.jsxs)("div",{className:"flex items-center p-3 space-x-3",children:[(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),p||n()},disabled:p,className:"flex-shrink-0 w-6 h-6 rounded border-2 flex items-center justify-center transition-all ".concat(p?"border-gray-300 cursor-not-allowed":"border-gray-400"),style:!p&&o?{backgroundColor:"var(--color-primary)",borderColor:"var(--color-primary)"}:{},onMouseEnter:e=>{p||o||(e.currentTarget.style.borderColor="var(--color-primary)")},onMouseLeave:e=>{p||o||(e.currentTarget.style.borderColor="")},children:s?(0,l.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2",style:{borderBottomColor:"var(--color-primary)"}}):o?(0,l.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}):null}),(0,l.jsx)("button",{onClick:i,disabled:u,className:"flex-1 text-left min-w-0 ".concat(u?"cursor-not-allowed":"cursor-pointer"),children:(0,l.jsxs)("p",{className:"text-sm font-medium ".concat(u?"text-gray-400":o?"text-gray-500":"text-gray-900"," truncate"),children:[(0,l.jsx)("span",{className:"font-bold",children:a})," ",d]})}),c&&!u&&(0,l.jsx)("span",{className:"flex-shrink-0 px-2 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full",children:"Новое"})]})})}}}]);