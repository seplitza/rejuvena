(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[74],{7443:function(e,t,a){"use strict";var r=a(3454);a(1479);var s=a(7294),n=s&&"object"==typeof s&&"default"in s?s:{default:s},o=void 0!==r&&r.env&&!0,i=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,a=t.name,r=void 0===a?"stylesheet":a,s=t.optimizeForSpeed,n=void 0===s?o:s;d(i(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",d("boolean"==typeof n,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=n,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l=document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){d("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),d(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;if(d(!this._injected,"sheet already injected"),this._injected=!0,this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(o||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,a){return"number"==typeof a?e._serverSheet.cssRules[a]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),a},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){if(d(i(e),"`insertRule` accepts only strings"),this._optimizeForSpeed){var a=this.getSheet();"number"!=typeof t&&(t=a.cssRules.length);try{a.insertRule(e,t)}catch(t){return o||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},t.replaceRule=function(e,t){if(this._optimizeForSpeed){var a=this.getSheet();if(t.trim()||(t=this._deletedRulePlaceholder),!a.cssRules[e])return e;a.deleteRule(e);try{a.insertRule(t,e)}catch(r){o||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),a.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];d(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},t.deleteRule=function(e){if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];d(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},t.flush=function(){this._injected=!1,this._rulesCount=0,this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]},t.cssRules=function(){var e=this;return this._tags.reduce(function(t,a){return a?t=t.concat(Array.prototype.map.call(e.getSheetForTag(a).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},t.makeStyleTag=function(e,t,a){t&&d(i(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var s=document.head||document.getElementsByTagName("head")[0];return a?s.insertBefore(r,a):s.appendChild(r),r},function(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function d(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,a=e.length;a;)t=33*t^e.charCodeAt(--a);return t>>>0},u={};function m(e,t){if(!t)return"jsx-"+e;var a=String(t),r=e+a;return u[r]||(u[r]="jsx-"+c(e+"-"+a)),u[r]}function h(e,t){var a=e+t;return u[a]||(u[a]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[a]}var f=function(){function e(e){var t=void 0===e?{}:e,a=t.styleSheet,r=void 0===a?null:a,s=t.optimizeForSpeed,n=void 0!==s&&s;this._sheet=r||new l({name:"styled-jsx",optimizeForSpeed:n}),this._sheet.inject(),r&&"boolean"==typeof n&&(this._sheet.setOptimizeForSpeed(n),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var a=this.getIdAndRules(e),r=a.styleId,s=a.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var n=s.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=n,this._instancesCounts[r]=1},t.remove=function(e){var t=this,a=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(a in this._instancesCounts,"styleId: `"+a+"` not found"),this._instancesCounts[a]-=1,this._instancesCounts[a]<1){var r=this._fromServer&&this._fromServer[a];r?(r.parentNode.removeChild(r),delete this._fromServer[a]):(this._indices[a].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[a]),delete this._instancesCounts[a]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],a=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return a[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,a;return t=this.cssRules(),void 0===(a=e)&&(a={}),t.map(function(e){var t=e[0],r=e[1];return n.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:a.nonce?a.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,a=e.dynamic,r=e.id;if(a){var s=m(r,a);return{styleId:s,rules:Array.isArray(t)?t.map(function(e){return h(s,e)}):[h(s,t)]}}return{styleId:m(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=s.createContext(null);p.displayName="StyleSheetContext";var x=n.default.useInsertionEffect||n.default.useLayoutEffect,g=new f;function y(e){var t=g||s.useContext(p);return t&&x(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)]),null}y.dynamic=function(e){return e.map(function(e){return m(e[0],e[1])}).join(" ")},t.style=y},645:function(e,t,a){"use strict";e.exports=a(7443).style},74:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var r=a(5893),s=a(645),n=a.n(s),o=a(7294),i=a(1163),l=a(9133),d=a(5871);function c(){let e=(0,i.useRouter)(),{user:t}=(0,l.C)(e=>e.auth),[a,s]=(0,o.useState)([]),[c,u]=(0,o.useState)([]),[m,h]=(0,o.useState)(!0),[f,p]=(0,o.useState)(null),[x,g]=(0,o.useState)(null),[y,b]=(0,o.useState)(0),[v,j]=(0,o.useState)(!0),w=(0,o.useRef)(),[_,k]=(0,o.useState)(!1),[S,N]=(0,o.useState)(null);(0,o.useEffect)(()=>{Promise.all([z(),C()])},[]);let z=async()=>{try{let e="https://api-rejuvena.duckdns.org";console.log("\uD83C\uDF81 Fetching offers from:","".concat(e,"/api/offers"));let a=await fetch("".concat(e,"/api/offers"));if(console.log("\uD83D\uDCE1 Offers response status:",a.status),!a.ok)throw Error("HTTP ".concat(a.status));let r=await a.json();if(console.log("\uD83D\uDCE6 Offers data:",r),r.success&&r.offers){let e=r.offers.filter(e=>{if(!e.isVisible)return!1;if(t){if(!e.showToLoggedIn)return!1}else if(!e.showToGuests)return!1;return"premium"!==e.type||!e.hiddenIfOwned||null==t||!t.isPremium});u(e),console.log("✅ Loaded offers:",e.length)}else console.warn("⚠️ No offers in response")}catch(e){console.error("❌ Failed to fetch offers:",e)}},C=async()=>{try{let e="https://api-rejuvena.duckdns.org";console.log("\uD83D\uDD0D Fetching marathons from:","".concat(e,"/api/marathons"));let t={},a=localStorage.getItem("auth_token");a&&(t.Authorization="Bearer ".concat(a));let r=await fetch("".concat(e,"/api/marathons"),{headers:t});if(console.log("\uD83D\uDCE1 Response status:",r.status),!r.ok)throw Error("HTTP ".concat(r.status));let n=await r.json();console.log("\uD83D\uDCE6 Marathons data:",n),n.success&&n.marathons?(s(n.marathons),console.log("✅ Loaded marathons:",n.marathons.length)):console.warn("⚠️ No marathons in response")}catch(e){console.error("❌ Failed to fetch marathons:",e),p("Ошибка загрузки марафонов")}finally{h(!1)}},D=async(t,a,r)=>{g(t);try{var s;let t=localStorage.getItem("auth_token");if(!t){alert("Необходимо войти в систему"),e.push("/auth/login");return}let n=await fetch(d.Pn.payment.create,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({amount:a,description:"".concat(r," (Премиум подписка на 30 дней)"),planType:"premium",duration:30})}),o=await n.json();o.success&&(null===(s=o.payment)||void 0===s?void 0:s.paymentUrl)?window.location.href=o.payment.paymentUrl:alert(o.error||"Ошибка создания платежа")}catch(e){console.error("Payment error:",e),alert("Ошибка при создании платежа")}finally{g(null)}},F=async t=>{if(t.userEnrolled){e.push("/marathons/".concat(t._id));return}if(t.isPaid){g(t._id);try{var a;let r=localStorage.getItem("auth_token");if(!r){alert("Необходимо войти в систему"),e.push("/auth/login");return}let s=await fetch("".concat(d.T5,"/api/payment/create-marathon"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({marathonId:t._id,marathonName:t.title,price:t.cost})}),n=await s.json();n.success&&(null===(a=n.payment)||void 0===a?void 0:a.paymentUrl)?window.location.href=n.payment.paymentUrl:alert(n.error||"Ошибка создания платежа")}catch(e){console.error("Payment error:",e),alert("Ошибка при создании платежа")}finally{g(null)}}else e.push("/marathons/".concat(t._id))},T=e=>0===e?"Бесконечный марафон":e%10==1&&e%100!=11?"".concat(e," день"):[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"".concat(e," дня"):"".concat(e," дней"),R=[...c.map(e=>({id:e._id,type:e.type,title:e.title,subtitle:e.subtitle||"",badge:e.badge||null,badgeColor:"premium"===e.type?"bg-yellow-400 text-yellow-900":"bg-purple-400 text-purple-900",gradient:e.gradient,borderColor:"premium"===e.type?"border-purple-200 hover:border-purple-400":"border-blue-200 hover:border-blue-400",price:e.price||null,priceLabel:e.priceLabel||"/ месяц",features:e.features,marathonData:void 0,isEnrolled:!1,enrollmentStatus:void 0})),...a.filter(e=>!e.userEnrolled).map(e=>({id:e._id,type:"marathon",title:e.title,subtitle:e.description||"Марафон омоложения",badge:e.userEnrolled?"✓ Оплачено":e.isPaid?null:"\uD83C\uDF81 Бесплатно",badgeColor:e.userEnrolled?"bg-green-100 text-green-800 border border-green-200":"bg-green-400 text-green-900",gradient:{from:"#2563eb",to:"#06b6d4"},borderColor:"border-blue-200 hover:border-blue-400",price:e.isPaid?e.cost:null,priceLabel:e.isPaid?"разовый платеж":"Бесплатно",features:[{title:"Длительность",description:T(e.numberOfDays)},{title:"Старт марафона",description:new Date(e.startDate).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})},{title:0===e.numberOfDays?"Каждый день":"Ежедневные упражнения",description:0===e.numberOfDays?"Одинаковый набор упражнений каждый день":"Новые упражнения каждый день"}],marathonData:e,isEnrolled:e.userEnrolled,enrollmentStatus:e.userEnrollmentStatus}))],E=()=>{b(e=>(e+1)%R.length)},I=e=>{b(e),j(!1)};(0,o.useEffect)(()=>(v&&R.length>1&&(w.current=setInterval(E,5e3)),()=>{w.current&&clearInterval(w.current)}),[v,R.length]);let O=async e=>{"premium"===e.type?await D(e.id,e.price,e.title):e.marathonData&&await F(e.marathonData)};if(m)return(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center py-12",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mb-4",style:{borderBottomColor:"var(--color-primary)"}}),(0,r.jsx)("span",{className:"text-gray-600 font-medium",children:"Загрузка предложений..."})]});if(f)return(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6 text-center",children:[(0,r.jsx)("p",{className:"text-red-600 font-semibold mb-2",children:f}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Проверьте подключение к серверу"}),(0,r.jsx)("button",{onClick:C,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Попробовать снова"})]});if(0===R.length)return(0,r.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 mb-6 text-center",children:(0,r.jsx)("p",{className:"text-gray-600",children:"Нет доступных предложений"})});let L=R[y];return(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a mb-8",children:[(0,r.jsx)(n(),{id:"aede6108a951ad9a",children:'@-webkit-keyframes slideIn{from{opacity:0;-webkit-transform:translatex(100px)rotatey(20deg);transform:translatex(100px)rotatey(20deg)}to{opacity:1;-webkit-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}}@-moz-keyframes slideIn{from{opacity:0;-moz-transform:translatex(100px)rotatey(20deg);transform:translatex(100px)rotatey(20deg)}to{opacity:1;-moz-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}}@-o-keyframes slideIn{from{opacity:0;-o-transform:translatex(100px)rotatey(20deg);transform:translatex(100px)rotatey(20deg)}to{opacity:1;-o-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}}@keyframes slideIn{from{opacity:0;-webkit-transform:translatex(100px)rotatey(20deg);-moz-transform:translatex(100px)rotatey(20deg);-o-transform:translatex(100px)rotatey(20deg);transform:translatex(100px)rotatey(20deg)}to{opacity:1;-webkit-transform:translatex(0)rotatey(0);-moz-transform:translatex(0)rotatey(0);-o-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}}@-webkit-keyframes slideOut{from{opacity:1;-webkit-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}to{opacity:0;-webkit-transform:translatex(-100px)rotatey(-20deg);transform:translatex(-100px)rotatey(-20deg)}}@-moz-keyframes slideOut{from{opacity:1;-moz-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}to{opacity:0;-moz-transform:translatex(-100px)rotatey(-20deg);transform:translatex(-100px)rotatey(-20deg)}}@-o-keyframes slideOut{from{opacity:1;-o-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}to{opacity:0;-o-transform:translatex(-100px)rotatey(-20deg);transform:translatex(-100px)rotatey(-20deg)}}@keyframes slideOut{from{opacity:1;-webkit-transform:translatex(0)rotatey(0);-moz-transform:translatex(0)rotatey(0);-o-transform:translatex(0)rotatey(0);transform:translatex(0)rotatey(0)}to{opacity:0;-webkit-transform:translatex(-100px)rotatey(-20deg);-moz-transform:translatex(-100px)rotatey(-20deg);-o-transform:translatex(-100px)rotatey(-20deg);transform:translatex(-100px)rotatey(-20deg)}}.slider-card{-webkit-animation:slideIn.5s cubic-bezier(.68,-.55,.265,1.55);-moz-animation:slideIn.5s cubic-bezier(.68,-.55,.265,1.55);-o-animation:slideIn.5s cubic-bezier(.68,-.55,.265,1.55);animation:slideIn.5s cubic-bezier(.68,-.55,.265,1.55);-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-perspective:1e3px;-moz-perspective:1e3px;perspective:1e3px}.slider-card:hover{-webkit-transform:scale(1.02)translatey(-8px);-moz-transform:scale(1.02)translatey(-8px);-ms-transform:scale(1.02)translatey(-8px);-o-transform:scale(1.02)translatey(-8px);transform:scale(1.02)translatey(-8px);-webkit-box-shadow:0 25px 50px rgba(0,0,0,.2);-moz-box-shadow:0 25px 50px rgba(0,0,0,.2);box-shadow:0 25px 50px rgba(0,0,0,.2)}.card-header{background:-webkit-linear-gradient(315deg,var(--gradient-from),var(--gradient-to));background:-moz-linear-gradient(315deg,var(--gradient-from),var(--gradient-to));background:-o-linear-gradient(315deg,var(--gradient-from),var(--gradient-to));background:linear-gradient(135deg,var(--gradient-from),var(--gradient-to));position:relative;overflow:hidden}.card-header::after{content:"";position:absolute;top:-50%;right:-50%;bottom:-50%;left:-50%;background:-webkit-linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);background:-moz-linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);background:-o-linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);background:linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);-webkit-transform:rotate(45deg)translate(-100%,-100%);-moz-transform:rotate(45deg)translate(-100%,-100%);-ms-transform:rotate(45deg)translate(-100%,-100%);-o-transform:rotate(45deg)translate(-100%,-100%);transform:rotate(45deg)translate(-100%,-100%);-webkit-transition:-webkit-transform.6s;-moz-transition:-moz-transform.6s;-o-transition:-o-transform.6s;transition:-webkit-transform.6s;transition:-moz-transform.6s;transition:-o-transform.6s;transition:transform.6s}.slider-card:hover .card-header::after{-webkit-transform:rotate(45deg)translate(100%,100%);-moz-transform:rotate(45deg)translate(100%,100%);-ms-transform:rotate(45deg)translate(100%,100%);-o-transform:rotate(45deg)translate(100%,100%);transform:rotate(45deg)translate(100%,100%)}.pulse-badge{-webkit-animation:pulse 2s ease-in-out infinite;-moz-animation:pulse 2s ease-in-out infinite;-o-animation:pulse 2s ease-in-out infinite;animation:pulse 2s ease-in-out infinite}@-webkit-keyframes pulse{0%,100%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.08);transform:scale(1.08);-webkit-box-shadow:0 0 20px rgba(250,204,21,.5);box-shadow:0 0 20px rgba(250,204,21,.5)}}@-moz-keyframes pulse{0%,100%{-moz-transform:scale(1);transform:scale(1)}50%{-moz-transform:scale(1.08);transform:scale(1.08);-moz-box-shadow:0 0 20px rgba(250,204,21,.5);box-shadow:0 0 20px rgba(250,204,21,.5)}}@-o-keyframes pulse{0%,100%{-o-transform:scale(1);transform:scale(1)}50%{-o-transform:scale(1.08);transform:scale(1.08);box-shadow:0 0 20px rgba(250,204,21,.5)}}@keyframes pulse{0%,100%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.08);-moz-transform:scale(1.08);-o-transform:scale(1.08);transform:scale(1.08);-webkit-box-shadow:0 0 20px rgba(250,204,21,.5);-moz-box-shadow:0 0 20px rgba(250,204,21,.5);box-shadow:0 0 20px rgba(250,204,21,.5)}}.slider-button{-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease}.slider-button:hover{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1);background:rgba(147,51,234,.95)}.slider-button:active{-webkit-transform:scale(.95);-moz-transform:scale(.95);-ms-transform:scale(.95);-o-transform:scale(.95);transform:scale(.95)}.dot{-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease}.dot:hover{-webkit-transform:scale(1.3);-moz-transform:scale(1.3);-ms-transform:scale(1.3);-o-transform:scale(1.3);transform:scale(1.3)}'}),(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a relative max-w-md mx-auto",children:[(0,r.jsxs)("div",{style:{"--gradient-from":L.gradient.from,"--gradient-to":L.gradient.to},className:"jsx-aede6108a951ad9a slider-card bg-white rounded-2xl shadow-2xl overflow-hidden border-2 transition-all duration-300",children:[(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a card-header p-6 text-white",children:[(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a flex items-center justify-between mb-2",children:[(0,r.jsx)("h3",{className:"jsx-aede6108a951ad9a text-2xl font-bold",children:L.title}),L.badge&&(0,r.jsx)("span",{className:"jsx-aede6108a951ad9a "+"pulse-badge inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ".concat(L.badgeColor),children:L.badge})]}),(0,r.jsx)("p",{className:"jsx-aede6108a951ad9a opacity-90",children:L.subtitle})]}),(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a p-6",children:[(0,r.jsx)("div",{className:"jsx-aede6108a951ad9a space-y-4 mb-6",children:L.features.map((e,t)=>(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"jsx-aede6108a951ad9a flex-shrink-0 w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-aede6108a951ad9a w-4 h-4 text-green-600",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7",className:"jsx-aede6108a951ad9a"})})}),(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a flex-1 min-w-0",children:[(0,r.jsx)("h4",{className:"jsx-aede6108a951ad9a font-semibold text-gray-900 text-sm",children:e.title}),(0,r.jsx)("p",{className:"jsx-aede6108a951ad9a text-xs text-gray-600 mt-0.5",children:e.description})]})]},t))}),(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a border-t pt-6",children:[(0,r.jsx)("div",{className:"jsx-aede6108a951ad9a flex items-baseline justify-between mb-4",children:(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a",children:[(0,r.jsx)("span",{className:"jsx-aede6108a951ad9a text-4xl font-bold text-gray-900",children:null!==L.price?"".concat(L.price," ₽"):"Бесплатно"}),null!==L.price&&(0,r.jsx)("span",{className:"jsx-aede6108a951ad9a text-gray-600 ml-2 text-sm",children:L.priceLabel})]})}),(0,r.jsx)("button",{onClick:()=>O(L),disabled:x===L.id,style:{backgroundImage:"linear-gradient(to right, ".concat(L.gradient.from,", ").concat(L.gradient.to,")")},className:"jsx-aede6108a951ad9a w-full bg-gradient-to-r text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-2xl mb-3",children:x===L.id?"Обработка...":"marathon"===L.type&&L.isEnrolled?"Перейти к марафону →":null!==L.price?"Оплатить ".concat(L.price," ₽"):"Присоединиться бесплатно"}),"marathon"===L.type&&L.marathonData&&!L.isEnrolled&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),N(L.marathonData),k(!0)},onMouseEnter:e=>{e.currentTarget.style.borderColor="var(--color-primary)",e.currentTarget.style.color="var(--color-primary)",e.currentTarget.style.backgroundColor="var(--color-primary-light, rgba(147, 51, 234, 0.1))"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#d1d5db",e.currentTarget.style.color="#374151",e.currentTarget.style.backgroundColor="white"},className:"jsx-aede6108a951ad9a w-full bg-white border-2 border-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-xl transition-all duration-300",children:"\uD83D\uDCD6 О марафоне"}),null!==L.price&&(0,r.jsx)("p",{className:"jsx-aede6108a951ad9a text-xs text-gray-500 text-center mt-3",children:"Безопасная оплата через Альфа-Банк"})]})]})]},y),R.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>{b(e=>(e-1+R.length)%R.length)},style:{backgroundColor:"var(--color-primary)"},onMouseEnter:e=>{j(!1),e.currentTarget.style.opacity="0.9"},onMouseLeave:e=>{e.currentTarget.style.opacity="1"},className:"jsx-aede6108a951ad9a slider-button absolute top-1/2 -left-4 md:-left-6 transform -translate-y-1/2 text-white w-10 h-10 md:w-12 md:h-12 rounded-full shadow-lg flex items-center justify-center z-10 transition-opacity",children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-aede6108a951ad9a w-5 h-5 md:w-6 md:h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7",className:"jsx-aede6108a951ad9a"})})}),(0,r.jsx)("button",{onClick:E,style:{backgroundColor:"var(--color-primary)"},onMouseEnter:e=>{j(!1),e.currentTarget.style.opacity="0.9"},onMouseLeave:e=>{e.currentTarget.style.opacity="1"},className:"jsx-aede6108a951ad9a slider-button absolute top-1/2 -right-4 md:-right-6 transform -translate-y-1/2 text-white w-10 h-10 md:w-12 md:h-12 rounded-full shadow-lg flex items-center justify-center z-10 transition-opacity",children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-aede6108a951ad9a w-5 h-5 md:w-6 md:h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7",className:"jsx-aede6108a951ad9a"})})})]}),R.length>1&&(0,r.jsx)("div",{className:"jsx-aede6108a951ad9a flex justify-center items-center space-x-2 mt-6",children:R.map((e,t)=>(0,r.jsx)("button",{onClick:()=>I(t),style:{backgroundColor:t===y?"var(--color-primary)":"#d1d5db",width:t===y?"2rem":"0.625rem"},onMouseEnter:e=>{t!==y&&(e.currentTarget.style.backgroundColor="#9ca3af")},onMouseLeave:e=>{t!==y&&(e.currentTarget.style.backgroundColor="#d1d5db")},"aria-label":"Перейти к слайду ".concat(t+1),className:"jsx-aede6108a951ad9a dot w-2.5 h-2.5 rounded-full transition-all"},t))}),R.length>1&&(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a text-center mt-3 text-sm text-gray-500",children:[y+1," / ",R.length]})]}),_&&S&&(0,r.jsx)("div",{onClick:()=>k(!1),className:"jsx-aede6108a951ad9a fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-aede6108a951ad9a bg-white rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto shadow-2xl",children:[(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a sticky top-0 bg-gradient-to-r from-blue-600 to-cyan-500 text-white p-6 rounded-t-2xl",children:[(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"jsx-aede6108a951ad9a text-2xl font-bold",children:S.title}),(0,r.jsx)("button",{onClick:()=>k(!1),className:"jsx-aede6108a951ad9a text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition-all",children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-aede6108a951ad9a w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12",className:"jsx-aede6108a951ad9a"})})})]}),(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a mt-2 flex items-center gap-4 text-sm text-blue-100",children:[(0,r.jsxs)("span",{className:"jsx-aede6108a951ad9a",children:["\uD83D\uDCC5 ",S.numberOfDays," дней"]}),(0,r.jsxs)("span",{className:"jsx-aede6108a951ad9a",children:["\uD83D\uDCB0 ",S.isPaid?"".concat(S.cost," ₽"):"Бесплатно"]})]})]}),(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a p-6",children:[S.courseDescription?(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:S.courseDescription},style:{fontSize:"15px",lineHeight:"1.7",color:"#374151"},className:"jsx-aede6108a951ad9a prose prose-sm max-w-none"}):(0,r.jsxs)("div",{className:"jsx-aede6108a951ad9a text-gray-600 text-center py-8",children:[(0,r.jsx)("p",{className:"jsx-aede6108a951ad9a mb-4",children:"Описание марафона скоро появится"}),(0,r.jsx)("p",{className:"jsx-aede6108a951ad9a text-sm text-gray-500",children:"Следите за обновлениями!"})]}),(0,r.jsx)("div",{className:"jsx-aede6108a951ad9a mt-6 pt-6 border-t border-gray-200",children:(0,r.jsx)("button",{onClick:()=>{k(!1),F(S)},className:"jsx-aede6108a951ad9a w-full bg-gradient-to-r from-blue-600 to-cyan-500 text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-2xl",children:S.isPaid?"Оплатить ".concat(S.cost," ₽"):"Присоединиться бесплатно"})})]})]})})]})}},1479:function(){}}]);