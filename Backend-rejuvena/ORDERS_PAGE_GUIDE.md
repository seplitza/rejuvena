# üì¶ –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ó–∞–∫–∞–∑—ã" –≤ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

## –î–æ—Å—Ç—É–ø
**URL**: https://api-rejuvena.duckdns.org/admin/orders

**–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** —Å –ø—Ä–∞–≤–∞–º–∏ `admin` –∏–ª–∏ `superadmin`.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤
- –¢–∞–±–ª–∏—Ü–∞ —Å–æ –≤—Å–µ–º–∏ –ø–ª–∞—Ç–µ–∂–∞–º–∏ (–ø—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫–∏ + –ø–æ–∫—É–ø–∫–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π)
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è: 50 –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤

### 2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è

**–ü–æ —Å—Ç–∞—Ç—É—Å—É:**
- **–í—Å–µ** - –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∑–∞–∫–∞–∑—ã
- **–û–ø–ª–∞—á–µ–Ω** (succeeded) - —É—Å–ø–µ—à–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏
- **–û–∂–∏–¥–∞–Ω–∏–µ** (pending) - –æ–∂–∏–¥–∞—é—Ç –æ–ø–ª–∞—Ç—ã
- **–û–±—Ä–∞–±–æ—Ç–∫–∞** (processing) - –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
- **–û—à–∏–±–∫–∞** (fa- **–û—à–∏–±–∫–∞** (fa- **–û—à–∏–±–∫–∞** (fa- **–û—à–∏–±–∫–∞** (fa- **–û—à–∏–±–∫–∞** (fa- **–û—à– –∑–∞–∫–∞–∑—ã

**–ü–æ –ø–æ–∏—Å–∫—É:**
- –ü–æ–∏—Å–∫ –ø–æ email –∫–ª–∏–µ–Ω—Ç–∞
- –ü–æ–∏- –ü–æ–∏- –ü–æ–∏- –ü–æ–∏- –ü–æ–∏- –ü–æ–∏- –ü–æ– EXERCISE-xxx)
- –ü–æ–∏—Å–∫ —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π

### 3. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞### 3. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è ––æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:

| –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| **–ó–∞–∫–∞–∑** | –ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ + —Ç–∏–ø (üí™ –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ / ‚≠ê –ü—Ä–µ–º–∏—É–º) |
| **–ö–ª–∏–µ–Ω—Ç** | –ò–º—è, email, —Å—Ç–∞—Ç—É—Å Premium |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | –ù–∞–∑–≤–∞–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ |
| **–°—É–º–º–∞** | –°—Ç–æ–∏–º–æ—Å—Ç—å –≤ —Ä—É–±–ª—è—Ö + –º–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç—ã (–ö–∞—Ä—Ç–∞/–°–ë–ü) |
| **–°—Ç–∞—Ç—É—Å** | –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è) |
| **–°–æ–∑–¥–∞–Ω** | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ |
| **–ê–∫—Ç–∏–≤–µ–Ω –¥–æ** | –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ (–¥–ª—è –ø—Ä–µ–º–∏—É–º/—É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π) |

### 4. –†### 4. –†### 4. –†###Ω–### 4. –†### 4. –†### 4. –†###Ω–### µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å:**
1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞
2. –í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
3. –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã:***–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã:***–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã:***–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç–‚úÖ
- `failed` - –û—à–∏–±–∫–∞
- `refunded` - –í–æ–∑–≤—Ä–∞—Ç
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - É—Å–∞ –Ω–∞ `succee- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - É—Å–∞ –Ω–∞—è –¥–æ—Å—Ç—É–ø –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π
- –î–ª—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è ExercisePurchase —Å –¥–æ—Å—Ç—É–ø–æ–º –Ω–∞ 30 –¥–Ω–µ–π

### 5. –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è

–°—Ç–∞—Ç—É—Å—ã –∏–º–µ—é—Ç —Ü–≤–µ—Ç–æ–≤—É—é –º–∞—Ä–∫–∏—Ä–æ–≤–∫—É:
- üü¢ –ó–µ–ª–µ–Ω—ã–π - –û–ø–ª–∞—á–µ–Ω (succeeded)
- üü° –ñ–µ–ª—Ç—ã–π - –û–∂–∏–¥–∞–Ω–∏–µ (pending)
- üîµ –°–∏–Ω–∏–π - –û–±—Ä–∞–±–æ—Ç–∫–∞ (processing)
- üî¥ –ö—Ä–∞—Å–Ω—ã–π - –û—à–∏–±–∫–∞ (failed)
- üü£ –§–∏–æ–ª–µ—Ç–æ–≤—ã–π - –í–æ–∑–≤—Ä–∞—Ç (refunded)
- ‚ö´ –°–µ—Ä—ã–π - –û—Ç–º–µ–Ω–µ–Ω (cancelled)

## API Endpoints

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–∫–∞–∑—ã
```http
GET /api/payment/admin/all
```

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `page` (number, default: 1) - –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `limit` (number, default: 50) - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- `status` (string, optional) - –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
- `search` (string, optional) - –ü–æ–∏—Å–∫ –ø–æ email/–Ω–æ–º–µ—Ä—É –∑–∞–∫–∞–∑–∞

**–ü—Ä–∏–º–µ—Ä:**
```bash
GET /api/payment/admin/all?page=1&limit=50&status=succeeded&search=user@example.com
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "payments": [
    {
      "id": "...",
      "orderNumber": "EXERCISE-1234567890-ABC      "orderNumber": "EXERCISE-1234567890-ABC      "orderNumberym      "orderNumber": "EXERCISE-1234567890-ABC    æ       "orderNumber": "EXERCISE-1234567890-ABC  "m      "orderNumber": "EXERCISE-1234567890-ABC     xe      "orderNumber": "EXERCISE-12345678: "–£–ø      "orderNumber": "EXERCISE-1234567890-ABC      "ordA      "orderNumber": "EXERCISE-1234567890-ABedA      "orderNumT14:35:00.000Z",
      "user": {
        "id": "...",
        "email": "user@example.com",
        "firstName": "–ò–≤–∞–Ω",
        "lastName": "–ü–µ—Ç—Ä–æ–≤",
        "isPre        "isPre        "isPre        "isPre        "isPr0:00.000Z",
        "r        "r        "r        "r        "r        "r        ,
  "pa  "pa  "pa  "pa  "pa  "pa  "pa  "pa  "pa  "pa  "pa  "pa  "pa  "pa  "pa  "pa  "  }  "pa  "pa  "pa –Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞
```http
PATCH /api/payment/admin/:paymentId/status
```

**Bo**Bo**Bo**son
{
  "status": "succeeded"
}
```

**–û—Ç–≤–µ—Ç:**
```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j```j```j```j```j`: ```j0 ```j```j```## ‚≠```j```j```j```j``ø–æ–¥–ø–∏—Å–∫–∞
- `metadata.planType === 'premium'`
- `metadata.duration` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π (–æ–±—ã—á–Ω–æ 30)
- –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç–µ: `user.isPremium = true`, `- –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–¥–Ω–µ–π`

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è JWT —Ç–æ–∫–µ–Ω —Å –ø—Ä–∞–≤–∞–º–∏ admin/superadmin
- ‚úÖ –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞- ‚úÖ –ü—Ä–æ–≤–µI

#######################–ª–µ –∏–∑############## –≤ –∫–æ–¥–µ:

```bash
# 1. –ö–æ–º–º–∏—Ç
git add -A
git commit -m "Update orders page"
git push

# 2. GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –Ω–∞ production
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å: https://github.com/seplitza/backend-rejuvena/actions
```

–ê–¥–º–∏–Ω–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: https://api-rejuvena.duckdns.org/admin/

---

**–°–æ–∑–¥–∞–Ω–æ**: 20 —è–Ω–≤–∞—Ä—è 2026 –≥.  
**–í–µ—Ä—Å–∏—è**: v1.1.0
