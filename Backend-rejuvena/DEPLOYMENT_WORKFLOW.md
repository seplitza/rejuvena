# Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ Ğ¿Ğ¾ Ğ´ĞµĞ¿Ğ»Ğ¾Ñ Rejuvena (Ğ´Ğ»Ñ AI-Ğ°Ğ³ĞµĞ½Ñ‚Ğ°)

## ğŸ”„ ĞĞ Ğ¥Ğ˜Ğ¢Ğ•ĞšĞ¢Ğ£Ğ Ğ ĞœĞ˜Ğ“Ğ ĞĞ¦Ğ˜Ğ˜ (Strangler Fig Pattern)

**Ğ”Ğ°Ñ‚Ğ° Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ñ:** 15 ÑĞ½Ğ²Ğ°Ñ€Ñ 2026
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ñ Ğ´Ğ²ÑƒĞ¼Ñ Ğ±ÑĞºĞµĞ½Ğ´Ğ°Ğ¼Ğ¸

### Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸Ñ
- **Ğ¡Ñ‚Ğ°Ñ€Ñ‹Ğ¹ Ğ±ÑĞº (Azure):** ĞšÑƒÑ€ÑÑ‹ + ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ legacy-Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
- **ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ±ÑĞº (DuckDNS):** Ğ£Ğ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ + ĞĞ¿Ğ»Ğ°Ñ‚Ğ° + ĞĞ¾Ğ²Ñ‹Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸
- **ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** ĞÑƒĞ¶Ğ½Ñ‹ Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ Ğ´Ğ»Ñ ÑÑ‚Ğ°Ñ€Ğ¾Ğ³Ğ¾ Ğ¸ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ±ÑĞºĞ°

### Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ: Unified Auth + Proxy Pattern

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ¤Ğ ĞĞĞ¢Ğ•ĞĞ” (Ğ¾Ğ´Ğ¸Ğ½ Ñ‚Ğ¾ĞºĞµĞ½ Ğ´Ğ»Ñ Ğ²ÑĞµĞ³Ğ¾)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ Authorization: Bearer <single_token>
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ĞĞĞ’Ğ«Ğ™ Ğ‘Ğ­ĞšĞ•ĞĞ” (37.252.20.170:9527)                          â”‚
â”‚                                                               â”‚
â”‚  /api/auth/login:                                            â”‚
â”‚    1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½ÑƒÑ Ğ‘Ğ”                                 â”‚
â”‚    2. Ğ•ÑĞ»Ğ¸ Ğ½ĞµÑ‚ â†’ ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Azure API (fallback)             â”‚
â”‚    3. Ğ•ÑĞ»Ğ¸ ÑƒÑĞ¿ĞµÑ… Azure â†’ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾                    â”‚
â”‚    4. Ğ’ĞµÑ€Ğ½ÑƒÑ‚ÑŒ JWT Ñ‚Ğ¾ĞºĞµĞ½ (Ğ¾Ğ´Ğ¸Ğ½ Ğ´Ğ»Ñ Ğ²ÑĞµĞ³Ğ¾)                    â”‚
â”‚                                                               â”‚
â”‚  /api/courses/* (proxy Ğ´Ğ»Ñ legacy users):                   â”‚
â”‚    â”œâ”€ isLegacyUser = true  â†’ Proxy Ğº Azure API             â”‚
â”‚    â””â”€ isLegacyUser = false â†’ 404 (ĞºÑƒÑ€ÑÑ‹ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹)         â”‚
â”‚                                                               â”‚
â”‚  /api/exercises/* (Ğ²ÑĞµĞ³Ğ´Ğ° Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾)                         â”‚
â”‚  /api/payment/* (Ğ²ÑĞµĞ³Ğ´Ğ° Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ legacy users)
                        â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  Ğ¡Ğ¢ĞĞ Ğ«Ğ™ Ğ‘Ğ­ĞšĞ•ĞĞ” (Azure)         â”‚
           â”‚  Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ ĞºÑƒÑ€ÑÑ‹ Ğ´Ğ»Ñ legacy users â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ­Ñ‚Ğ°Ğ¿Ñ‹ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ (Ğ±ÑƒĞ´ÑƒÑ‰ĞµĞµ)

#### Ğ­Ñ‚Ğ°Ğ¿ 1 (Ğ¢Ğ•ĞšĞ£Ğ©Ğ˜Ğ™): ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°
- [x] Unified login Ñ fallback Ğ½Ğ° Azure
- [x] Proxy endpoints Ğ´Ğ»Ñ ĞºÑƒÑ€ÑĞ¾Ğ²
- [x] ĞĞ´Ğ¸Ğ½ Ñ‚Ğ¾ĞºĞµĞ½ Ğ´Ğ»Ñ Ñ„Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´Ğ°
- [ ] Ğ’ÑĞµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ Ñ„Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´Ğ°

#### Ğ­Ñ‚Ğ°Ğ¿ 2: ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… ĞºÑƒÑ€ÑĞ¾Ğ²
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ Course Ğ² Ğ½Ğ¾Ğ²Ğ¾Ğ¼ Ğ±ÑĞºĞµ
- [ ] Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ° ĞºÑƒÑ€ÑĞ¾Ğ² Ğ¸Ğ· Azure â†’ MongoDB
- [ ] ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ†ĞµĞ»Ğ¾ÑÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

#### Ğ­Ñ‚Ğ°Ğ¿ 3: ĞŸĞ¾ÑÑ‚ĞµĞ¿ĞµĞ½Ğ½Ğ¾Ğµ Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ endpoints
- [ ] `/api/courses/list` â†’ Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ¸Ğ· MongoDB (legacy users Ğ²Ğ¸Ğ´ÑÑ‚ ÑÑ‚Ğ°Ñ€Ñ‹Ğµ ĞºÑƒÑ€ÑÑ‹)
- [ ] `/api/courses/:id` â†’ Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ¸Ğ· MongoDB
- [ ] Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ â†’ ĞÑ‚ĞºĞ°Ñ‚ Ğ¿Ñ€Ğ¸ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°Ñ…
- [ ] ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ğ¾Ñ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ proxy

#### Ğ­Ñ‚Ğ°Ğ¿ 4: Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ legacy ĞºĞ¾Ğ´Ğ°
- [ ] Ğ£Ğ±Ñ€Ğ°Ñ‚ÑŒ Ñ„Ğ»Ğ°Ğ³ `isLegacyUser` Ğ¸Ğ· User Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸
- [ ] Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ proxy middleware
- [ ] Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Azure API URL Ğ¸Ğ· .env
- [ ] ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

### ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ°
âœ… **Zero downtime** - Ğ½Ğ¸ĞºĞ°ĞºĞ¸Ñ… Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¾Ğº ÑĞµÑ€Ğ²Ğ¸ÑĞ°
âœ… **ĞŸĞ¾ÑÑ‚ĞµĞ¿ĞµĞ½Ğ½Ğ°Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ** - Ğ¿Ğ¾ Ğ¾Ğ´Ğ½Ğ¾Ğ¼Ñƒ endpoint Ğ·Ğ° Ñ€Ğ°Ğ·
âœ… **Ğ›ĞµĞ³ĞºĞ¸Ğ¹ Ğ¾Ñ‚ĞºĞ°Ñ‚** - Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒ proxy Ğ¿Ñ€Ğ¸ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°Ñ…
âœ… **Ğ¤Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´ Ğ½Ğµ Ñ‚Ñ€Ğ¾Ğ³Ğ°ĞµĞ¼** - Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ĞºĞ°Ğº Ñ€Ğ°Ğ½ÑŒÑˆĞµ
âœ… **Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² production** - Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ A/B Ñ‚ĞµÑÑ‚Ğ¸Ñ‚ÑŒ

---

## âœ… Ğ¢Ğ•ĞšĞ£Ğ©ĞĞ¯ Ğ ĞĞ‘ĞĞ§ĞĞ¯ ĞšĞĞĞ¤Ğ˜Ğ“Ğ£Ğ ĞĞ¦Ğ˜Ğ¯

**Ğ”Ğ°Ñ‚Ğ°:** 15 ÑĞ½Ğ²Ğ°Ñ€Ñ 2026
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** Unified auth Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½, Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚

### Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°
- **Ğ¡ĞµÑ€Ğ²ĞµÑ€:** 37.252.20.170 (api-rejuvena.duckdns.org)
- **Backend API:** http://37.252.20.170:9527 (PM2: rejuvena-backend)
- **Admin Panel:** https://api-rejuvena.duckdns.org/admin/
- **Frontend:** https://seplitza.github.io/rejuvena/exercises

### Ğ ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸ Git
1. **Backend:** https://github.com/seplitza/backend-rejuvena
   - ĞŸÑƒÑ‚ÑŒ: `/Users/alexeipinaev/Documents/Rejuvena/Backend-rejuvena`
   - ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ğ² `admin-panel/`
   
2. **Frontend:** https://github.com/seplitza/web
   - ĞŸÑƒÑ‚ÑŒ: `/Users/alexeipinaev/Documents/Rejuvena/web`
   - Next.js Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ

---

## ğŸ“‹ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ• ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ

### 1. Ğ’Ğ¡Ğ•Ğ“Ğ”Ğ ĞšĞĞœĞœĞ˜Ğ¢Ğ˜Ğ¢Ğ¬ Ğ˜Ğ—ĞœĞ•ĞĞ•ĞĞ˜Ğ¯
âŒ **ĞĞ˜ĞšĞĞ“Ğ”Ğ** Ğ½Ğµ Ğ¼ĞµĞ½ÑĞ¹ ĞºĞ¾Ğ´ Ğ±ĞµĞ· ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ğ° Ğ² Git!
âœ… ĞŸĞ¾ÑĞ»Ğµ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ:
```bash
cd /Users/alexeipinaev/Documents/Rejuvena/Backend-rejuvena
git add -A
git commit -m "ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹"
git push
```

### 2. ĞšĞĞšĞĞ™ Ğ Ğ•ĞŸĞĞ—Ğ˜Ğ¢ĞĞ Ğ˜Ğ™ Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—ĞĞ’ĞĞ¢Ğ¬
- **Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ² admin-panel/** â†’ backend-rejuvena
- **Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ² backend (API, models, routes)** â†’ backend-rejuvena
- **Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ² web/src/** â†’ web
- **ĞŸÑ€Ğ¸ ÑĞ¾Ğ¼Ğ½ĞµĞ½Ğ¸ÑÑ…** â†’ backend-rejuvena

---

## ğŸš€ Ğ”Ğ•ĞŸĞ›ĞĞ™ ĞĞ”ĞœĞ˜Ğ-ĞŸĞĞĞ•Ğ›Ğ˜

### ĞšĞ¾Ğ³Ğ´Ğ° Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹
- ĞŸĞ¾ÑĞ»Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ Ğ² `admin-panel/src/`
- ĞŸĞ¾ÑĞ»Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ Ğ² `admin-panel/vite.config.ts`
- ĞŸĞ¾ÑĞ»Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ Ğ² `.env.production`

### ĞŸĞ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹

1. **ĞšĞ¾Ğ¼Ğ¼Ğ¸Ñ‚ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ Ğ² Git:**
```bash
cd /Users/alexeipinaev/Documents/Rejuvena/Backend-rejuvena
git add -A
git commit -m "ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹"
git push
```

2. **Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹ Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€:**
```bash
cd /Users/alexeipinaev/Documents/Rejuvena/Backend-rejuvena
./deploy-admin.sh
```

### Ğ’Ğ°Ğ¶Ğ½Ñ‹Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ°Ğ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸
- **API URL:** `https://api-rejuvena.duckdns.org/api` (Ğ·Ğ°Ğ´Ğ°ĞµÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· `VITE_API_URL`)
- **Router basename:** `/admin` (Ğ² `App.tsx`)
- **Vite base:** `/admin/` (Ğ² `vite.config.ts`)
- **Nginx location:** `/admin/` (Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ)

---

## ğŸŒ Ğ”Ğ•ĞŸĞ›ĞĞ™ Ğ¤Ğ ĞĞĞ¢Ğ•ĞĞ”Ğ (GitHub Pages)

### ĞšĞ¾Ğ³Ğ´Ğ° Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹
- ĞŸĞ¾ÑĞ»Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ Ğ² `web/src/`
- ĞŸĞ¾ÑĞ»Ğµ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ½Ğ¾Ğ²Ñ‹Ñ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
- ĞŸĞ¾ÑĞ»Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ API ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸

### ĞŸĞ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹

1. **ĞšĞ¾Ğ¼Ğ¼Ğ¸Ñ‚ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ Ğ² Git:**
```bash
cd /Users/alexeipinaev/Documents/Rejuvena/web
git add -A
git commit -m "ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹"
git push
```

2. **Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¸ Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹:**
```bash
cd /Users/alexeipinaev/Documents/Rejuvena/web
npm run build
npm run export
npx gh-pages -d out
```

### Ğ’Ğ°Ğ¶Ğ½Ñ‹Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ñ„Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´Ğ°
- **API URL:** `http://37.252.20.170:9527` (production)
- **Base URL:** `/rejuvena` (GitHub Pages)
- **Output:** Static export (`next.config.js`)

---

## ğŸ”§ Ğ ĞĞ‘ĞĞ¢Ğ Ğ¡ Ğ‘Ğ­ĞšĞ•ĞĞ”ĞĞœ

### ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞº Ğ±ÑĞºĞµĞ½Ğ´Ğ°
```bash
ssh root@37.252.20.170 "pm2 restart rejuvena-backend"
```

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ»Ğ¾Ğ³Ğ¾Ğ²
```bash
ssh root@37.252.20.170 "pm2 logs rejuvena-backend --lines 50"
```

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑÑ‚Ğ°Ñ‚ÑƒÑĞ°
```bash
ssh root@37.252.20.170 "pm2 list"
```

---

## ğŸ“ Ğ¢Ğ˜ĞŸĞ˜Ğ§ĞĞ«Ğ• Ğ¡Ğ¦Ğ•ĞĞĞ Ğ˜Ğ˜

### Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ 1: Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸ Ğ°Ğ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸
```bash
# 1. ĞŸÑ€Ğ°Ğ²Ğ¸Ğ¼ Ñ„Ğ°Ğ¹Ğ»
vim admin-panel/src/pages/Dashboard.tsx

# 2. ĞšĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ğ¸Ğ¼
git add admin-panel/src/pages/Dashboard.tsx
git commit -m "Update dashboard layout"
git push

# 3. Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¸Ğ¼
./deploy-admin.sh
```

### Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ 2: Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ API Ñ€Ğ¾ÑƒÑ‚Ğ°
```bash
# 1. ĞŸÑ€Ğ°Ğ²Ğ¸Ğ¼ Ğ±ÑĞºĞµĞ½Ğ´
vim src/routes/exercises.ts

# 2. ĞšĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ğ¸Ğ¼
git add src/routes/exercises.ts
git commit -m "Add new exercise endpoint"
git push

# 3. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµĞ¼ PM2
ssh root@37.252.20.170 "pm2 restart rejuvena-backend"
```

### Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ 3: Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ UI Ñ„Ñ€Ğ¾Ğ½Ñ‚ĞµĞ½Ğ´Ğ°
```bash
# 1. ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¸Ğ¼ Ğ² web
cd /Users/alexeipinaev/Documents/Rejuvena/web

# 2. ĞŸÑ€Ğ°Ğ²Ğ¸Ğ¼ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚
vim src/components/PaymentModal.tsx

# 3. ĞšĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ğ¸Ğ¼
git add src/components/PaymentModal.tsx
git commit -m "Update payment modal design"
git push

# 4. Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¸Ğ¼ Ğ½Ğ° GitHub Pages
npm run build && npm run export && npx gh-pages -d out
```

---

## âš ï¸ Ğ§Ğ•ĞšĞ›Ğ˜Ğ¡Ğ¢ ĞŸĞ•Ğ Ğ•Ğ” Ğ”Ğ•ĞŸĞ›ĞĞ•Ğœ

- [ ] Ğ’ÑĞµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ·Ğ°ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‡ĞµĞ½Ñ‹ Ğ² Git
- [ ] Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ·Ğ°Ğ¿ÑƒÑˆĞµĞ½Ñ‹ Ğ½Ğ° GitHub
- [ ] ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞµĞ½Ñ‹ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
- [ ] Ğ—Ğ°Ğ¿ÑƒÑ‰ĞµĞ½Ğ° ÑĞ±Ğ¾Ñ€ĞºĞ° Ğ±ĞµĞ· Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
- [ ] ĞŸĞ¾ÑĞ»Ğµ Ğ´ĞµĞ¿Ğ»Ğ¾Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞµĞ½ URL Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ

---

## ğŸ” Ğ”Ğ˜ĞĞ“ĞĞĞ¡Ğ¢Ğ˜ĞšĞ ĞŸĞ ĞĞ‘Ğ›Ğ•Ğœ

### ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ğ½Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ÑÑ (Ğ±ĞµĞ»Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°)
1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½ÑĞ¾Ğ»ÑŒ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ° (F12)
2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ API URL Ğ² ĞºĞ¾Ğ´Ğµ: `grep -r "localhost" admin-panel/dist/`
3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ basename Ğ² Ñ€Ğ¾ÑƒÑ‚ĞµÑ€Ğµ: Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ `/admin`
4. ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ ĞºĞµÑˆ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ° (Cmd+Shift+R)

### API Ğ½Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚
1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ PM2: `ssh root@37.252.20.170 "pm2 list"`
2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸: `ssh root@37.252.20.170 "pm2 logs rejuvena-backend"`
3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ñ€Ñ‚: `ssh root@37.252.20.170 "netstat -tulpn | grep 9527"`

### Nginx Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹
1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³: `ssh root@37.252.20.170 "nginx -t"`
2. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ: `ssh root@37.252.20.170 "systemctl restart nginx"`
3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸: `ssh root@37.252.20.170 "tail -50 /var/log/nginx/error.log"`

---

## ğŸ“Œ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ• Ğ¤ĞĞ™Ğ›Ğ«

### Backend (backend-rejuvena)
- `admin-panel/src/App.tsx` - Router Ñ basename
- `admin-panel/vite.config.ts` - Vite ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
- `admin-panel/.env.production` - Prod Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ
- `deploy-admin.sh` - Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ´ĞµĞ¿Ğ»Ğ¾Ñ

### Frontend (web)
- `src/config/api.ts` - API URL ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
- `next.config.js` - Next.js Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
- `package.json` - Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹ ÑĞ±Ğ¾Ñ€ĞºĞ¸

### Ğ¡ĞµÑ€Ğ²ĞµÑ€
- `/etc/nginx/sites-available/rejuvena` - Nginx ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³
- `/var/www/rejuvena-backend/admin-panel/` - ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ
- PM2 Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ: `rejuvena-backend`

---

## ğŸ¯ GOLDEN RULE

**ĞŸĞĞ¡Ğ›Ğ• ĞšĞĞ–Ğ”ĞĞ“Ğ Ğ˜Ğ—ĞœĞ•ĞĞ•ĞĞ˜Ğ¯ ĞšĞĞ”Ğ:**
1. âœ… Git commit
2. âœ… Git push  
3. âœ… Deploy (ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾)
4. âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ

**ĞĞ˜ĞšĞĞ“Ğ”Ğ ĞĞ• ĞĞ¡Ğ¢ĞĞ’Ğ›Ğ¯Ğ™ ĞšĞĞ” Ğ‘Ğ•Ğ— ĞšĞĞœĞœĞ˜Ğ¢Ğ!**
