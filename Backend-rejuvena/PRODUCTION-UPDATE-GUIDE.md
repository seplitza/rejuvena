# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é Production —Å–µ—Ä–≤–µ—Ä–∞

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ:

1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `duration` –≤ –º–æ–¥–µ–ª—å Exercise
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ "–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å" –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
3. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è (–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å premium)
4. ‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è 6 –Ω–æ–≤—ã—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ:

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh user@api-rejuvena.duckdns.org
# –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à SSH –∫–ª—é—á/–º–µ—Ç–æ–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ Backend

```bash
cd /path/to/Backend-rejuvena  # –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å backend –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–µ–∫—É—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
git stash

# –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥
git pull origin main  # –∏–ª–∏ –≤–∞—à–∞ –≤–µ—Ç–∫–∞

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
npm install
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Backend —Å–µ—Ä–≤–µ—Ä

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PM2:
```bash
pm2 restart backend-rejuvena
# –∏–ª–∏
pm2 restart all
```

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è systemd:
```bash
sudo systemctl restart backend-rejuvena
```

–ï—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ node –ø—Ä–æ—Ü–µ—Å—Å:
```bash
pkill -f "node.*src/server"
npm run start
```

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å Admin Panel

```bash
cd /path/to/Backend-rejuvena/admin-panel

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ
npm run build

# –ï—Å–ª–∏ admin-panel –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ dist –≤ –Ω—É–∂–Ω—É—é –ø–∞–ø–∫—É
# –ù–∞–ø—Ä–∏–º–µ—Ä:
cp -r dist/* /var/www/admin/
```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health
curl http://localhost:9527/health

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ duration –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ API
curl http://localhost:9527/api/exercises/public | grep duration | head -3
```

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ï—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CI/CD

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω GitHub Actions –∏–ª–∏ –¥—Ä—É–≥–æ–π CI/CD:
1. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```bash
git add .
git commit -m "Add duration field to Exercise model and admin panel"
git push origin main
```

2. CI/CD –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ

#### Backend:
```bash
cd /Users/alexeipinaev/Documents/Rejuvena/Backend-rejuvena
npm run build
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ dist/ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ scp –∏–ª–∏ FTP
```

#### Admin Panel:
```bash
cd /Users/alexeipinaev/Documents/Rejuvena/Backend-rejuvena/admin-panel
npm run build
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ dist/ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```

---

## –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

1. **API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç duration:**
   ```bash
   curl https://api-rejuvena.duckdns.org/api/exercises/public | grep duration
   ```

2. **–ê–¥–º–∏–Ω–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–µ:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ https://api-rejuvena.duckdns.org/admin/
   - –í–æ–π–¥–∏—Ç–µ
   - –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è ‚Üí –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–µ "–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"

---

## –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã:

1. `/src/models/Exercise.model.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ duration
2. `/admin-panel/src/pages/ExerciseEditor.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ –≤–≤–æ–¥–∞ duration
3. `/src/scripts/fix-exercises-premium.ts` - —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
4. `/src/scripts/update-forehead-eyes-durations.ts` - —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

### Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs backend-rejuvena
# –∏–ª–∏
journalctl -u backend-rejuvena -f
```

### MongoDB –æ—à–∏–±–∫–∏:
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MongoDB –∑–∞–ø—É—â–µ–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–¥–µ–ª—å Exercise —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å –Ω–æ–≤—ã–º –ø–æ–ª–µ–º

### Admin Panel –Ω–µ –æ–±–Ω–æ–≤–∏–ª–∞—Å—å:
- –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞: Cmd+Shift+R
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è dist —Å–æ–±—Ä–∞–Ω–∞ –∏ –∑–∞–≥—Ä—É–∂–µ–Ω–∞
