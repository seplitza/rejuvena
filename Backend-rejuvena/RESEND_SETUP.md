# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Resend –¥–ª—è Email —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

## –ó–∞—á–µ–º –Ω—É–∂–µ–Ω Resend?
- –û—Ç–ø—Ä–∞–≤–∫–∞ email —Å –ø–∞—Ä–æ–ª—è–º–∏ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- **100 –ø–∏—Å–µ–º/–¥–µ–Ω—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–∞–≤—Å–µ–≥–¥–∞** üéâ
- –ü—Ä–æ—Å—Ç–æ–π API

---

## 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ Resend

1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ https://resend.com
2. –ù–∞–∂–º–∏ **Sign Up** (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ GitHub)
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏ email

---

## 2. –ü–æ–ª—É—á–µ–Ω–∏–µ API Key

1. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –ø–µ—Ä–µ–π–¥–∏ –≤ **API Keys** (—Å–ª–µ–≤–∞ –≤ –º–µ–Ω—é)
2. –ù–∞–∂–º–∏ **Create API Key**
3. –ù–∞–∑–≤–∞–Ω–∏–µ: `rejuvena-backend`
4. Permissions: **Full Access** –∏–ª–∏ **Sending access**
5. –ù–∞–∂–º–∏ **Create**
6. **–°–ö–û–ü–ò–†–£–ô API KEY** (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)
   - –§–æ—Ä–º–∞—Ç: `re_xxxxxxxxxxxxxxxxxxxxxxxxx`

---

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –í–∞—Ä–∏–∞–Ω—Ç A: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –¥–æ–º–µ–Ω Resend
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Resend –¥–∞–µ—Ç `onboarding@resend.dev`
- –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É, –Ω–æ –ø–∏—Å—å–º–∞ –º–æ–≥—É—Ç —É—Ö–æ–¥–∏—Ç—å –≤ —Å–ø–∞–º
- **–ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è —Ç–µ—Å—Ç–∞:**
  ```env
  EMAIL_FROM=onboarding@resend.dev
  ```

### –í–∞—Ä–∏–∞–Ω—Ç B: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–≤–æ–π –¥–æ–º–µ–Ω (–ª—É—á—à–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
1. –í Resend –ø–µ—Ä–µ–π–¥–∏ –≤ **Domains**
2. –ù–∞–∂–º–∏ **Add Domain**
3. –í–≤–µ–¥–∏ –¥–æ–º–µ–Ω: `rejuvena.com` (–∏–ª–∏ –ª—é–±–æ–π —Ç–≤–æ–π)
4. Resend –ø–æ–∫–∞–∂–µ—Ç DNS –∑–∞–ø–∏—Å–∏ - –¥–æ–±–∞–≤—å –∏—Ö –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –¥–æ–º–µ–Ω–∞:
   - **SPF** (TXT –∑–∞–ø–∏—Å—å)
   - **DKIM** (TXT –∑–∞–ø–∏—Å—å)
   - **DMARC** (TXT –∑–∞–ø–∏—Å—å)
5. –ü–æ–¥–æ–∂–¥–∏ 5-10 –º–∏–Ω—É—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
6. –ò—Å–ø–æ–ª—å–∑—É–π email:
   ```env
   EMAIL_FROM=noreply@rejuvena.com
   ```

---

## 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –î–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
ssh root@37.252.20.170
cd /var/www/rejuvena-backend

# –û—Ç–∫—Ä–æ–π .env —Ñ–∞–π–ª
nano .env
```

### –î–æ–±–∞–≤—å —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏:

```env
# Resend Email Service
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxx
EMAIL_FROM=onboarding@resend.dev

# Frontend URL (–¥–ª—è —Å—Å—ã–ª–æ–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è)
FRONTEND_URL=https://seplitza.github.io/rejuvena
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –±—ç–∫–µ–Ω–¥:

```bash
pm2 restart rejuvena-backend
pm2 logs rejuvena-backend
```

---

## 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –¢–µ—Å—Ç —á–µ—Ä–µ–∑ curl:

```bash
curl -X POST https://api-rejuvena.duckdns.org/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com"}'
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "message": "Registration successful! Check your email for login credentials.",
  "token": "eyJhbGciOiJIUzI1...",
  "user": {
    "id": "...",
    "email": "test@example.com",
    "role": "admin"
  }
}
```

### –ü—Ä–æ–≤–µ—Ä—å email:
- –û—Ç–∫—Ä–æ–π –ø–æ—á—Ç—É `test@example.com`
- –î–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ –ø–∏—Å—å–º–æ –æ—Ç `onboarding@resend.dev` (–∏–ª–∏ —Ç–≤–æ–µ–≥–æ –¥–æ–º–µ–Ω–∞)
- –¢–µ–º–∞: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Rejuvena! –í–∞—à –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞"
- –°–æ–¥–µ—Ä–∂–∏—Ç: Email + –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å

### –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞:

```bash
ssh root@37.252.20.170 "pm2 logs rejuvena-backend --lines 30 --nostream"
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
‚úÖ Resend email service initialized
‚úÖ User registered: test@example.com
‚úÖ Registration email sent to test@example.com
```

---

## 6. –õ–∏–º–∏—Ç—ã Resend (Free Plan)

- **100 emails/day** - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞
- **–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ –¥–æ–º–µ–Ω–æ–≤**
- **–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ API –∫–ª—é—á–µ–π**
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ **–Ω–∞–≤—Å–µ–≥–¥–∞** (–Ω–µ trial)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ - –ø–ª–∞—Ç–Ω–æ –æ—Ç $20/–º–µ—Å—è—Ü –∑–∞ 50,000 –ø–∏—Å–µ–º.

---

## 7. Troubleshooting

### –ü–∏—Å—å–º–æ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å API key:**
   ```bash
   ssh root@37.252.20.170 "grep RESEND_API_KEY /var/www/rejuvena-backend/.env"
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏:**
   ```bash
   pm2 logs rejuvena-backend | grep -i email
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å Resend Dashboard:**
   - https://resend.com/emails
   - –¢–∞–º –≤–∏–¥–Ω—ã –≤—Å–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞
   - –°—Ç–∞—Ç—É—Å: Delivered / Bounced / Failed

### –ü–∏—Å—å–º–æ –≤ —Å–ø–∞–º–µ:

- –ò—Å–ø–æ–ª—å–∑—É–π —Å–≤–æ–π –¥–æ–º–µ–Ω (–Ω–µ `resend.dev`)
- –ù–∞—Å—Ç—Ä–æ–π SPF, DKIM, DMARC –∑–∞–ø–∏—Å–∏
- –î–æ–±–∞–≤—å –¥–æ–º–µ–Ω –≤ whitelist –Ω–∞ Resend

### –û—à–∏–±–∫–∞ "Invalid API key":

- API –∫–ª—é—á –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π –∫–ª—é—á –Ω–∞ Resend
- –û–±–Ω–æ–≤–∏ `.env` —Ñ–∞–π–ª
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ PM2

---

## 8. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–ê–ñ–ù–û:**
- API key - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π! –ù–µ –∫–æ–º–º–∏—Ç—å –≤ Git
- –•—Ä–∞–Ω–∏ —Ç–æ–ª—å–∫–æ –≤ `.env` —Ñ–∞–π–ª–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–π –≤ –ª–æ–≥–∞—Ö –∏–ª–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞—Ö

---

## 9. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (–µ—Å–ª–∏ Resend –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç)

### Brevo (300 –ø–∏—Å–µ–º/–¥–µ–Ω—å):
```env
EMAIL_PROVIDER=brevo
BREVO_API_KEY=xkeysib-...
EMAIL_FROM=noreply@rejuvena.com
```

### Gmail (500 –ø–∏—Å–µ–º/–¥–µ–Ω—å):
```env
EMAIL_PROVIDER=gmail
GMAIL_USER=yourname@gmail.com
GMAIL_APP_PASSWORD=xxxx xxxx xxxx xxxx
EMAIL_FROM=yourname@gmail.com
```

---

## –ì–æ—Ç–æ–≤–æ! üéâ

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç email —Å –ø–∞—Ä–æ–ª–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
